{"/app/src/service/UserService.js":{"path":"/app/src/service/UserService.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":82}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":10},"end":{"line":14,"column":47}},"6":{"start":{"line":16,"column":11},"end":{"line":16,"column":52}},"7":{"start":{"line":18,"column":12},"end":{"line":18,"column":51}},"8":{"start":{"line":20,"column":20},"end":{"line":20,"column":67}},"9":{"start":{"line":22,"column":22},"end":{"line":22,"column":73}},"10":{"start":{"line":24,"column":12},"end":{"line":24,"column":27}},"11":{"start":{"line":26,"column":21},"end":{"line":26,"column":46}},"12":{"start":{"line":28,"column":14},"end":{"line":28,"column":56}},"13":{"start":{"line":30,"column":12},"end":{"line":30,"column":62}},"14":{"start":{"line":32,"column":16},"end":{"line":32,"column":71}},"15":{"start":{"line":34,"column":15},"end":{"line":34,"column":69}},"16":{"start":{"line":36,"column":13},"end":{"line":36,"column":65}},"17":{"start":{"line":38,"column":13},"end":{"line":38,"column":40}},"18":{"start":{"line":40,"column":11},"end":{"line":40,"column":53}},"19":{"start":{"line":41,"column":11},"end":{"line":41,"column":42}},"20":{"start":{"line":42,"column":9},"end":{"line":42,"column":81}},"21":{"start":{"line":43,"column":11},"end":{"line":43,"column":57}},"22":{"start":{"line":44,"column":15},"end":{"line":44,"column":84}},"23":{"start":{"line":53,"column":30},"end":{"line":189,"column":3}},"24":{"start":{"line":54,"column":13},"end":{"line":184,"column":5}},"25":{"start":{"line":56,"column":4},"end":{"line":183,"column":34}},"26":{"start":{"line":57,"column":6},"end":{"line":182,"column":7}},"27":{"start":{"line":58,"column":8},"end":{"line":181,"column":9}},"28":{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},"29":{"start":{"line":61,"column":14},"end":{"line":61,"column":32}},"30":{"start":{"line":62,"column":14},"end":{"line":62,"column":20}},"31":{"start":{"line":65,"column":12},"end":{"line":70,"column":15}},"32":{"start":{"line":73,"column":12},"end":{"line":73,"column":30}},"33":{"start":{"line":74,"column":12},"end":{"line":74,"column":60}},"34":{"start":{"line":77,"column":12},"end":{"line":77,"column":37}},"35":{"start":{"line":78,"column":12},"end":{"line":78,"column":30}},"36":{"start":{"line":79,"column":12},"end":{"line":79,"column":35}},"37":{"start":{"line":82,"column":12},"end":{"line":82,"column":39}},"38":{"start":{"line":84,"column":12},"end":{"line":87,"column":13}},"39":{"start":{"line":85,"column":14},"end":{"line":85,"column":33}},"40":{"start":{"line":86,"column":14},"end":{"line":86,"column":20}},"41":{"start":{"line":89,"column":12},"end":{"line":94,"column":15}},"42":{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},"43":{"start":{"line":98,"column":14},"end":{"line":98,"column":33}},"44":{"start":{"line":99,"column":14},"end":{"line":99,"column":20}},"45":{"start":{"line":102,"column":12},"end":{"line":105,"column":15}},"46":{"start":{"line":108,"column":12},"end":{"line":111,"column":13}},"47":{"start":{"line":109,"column":14},"end":{"line":109,"column":33}},"48":{"start":{"line":110,"column":14},"end":{"line":110,"column":20}},"49":{"start":{"line":113,"column":12},"end":{"line":116,"column":15}},"50":{"start":{"line":119,"column":12},"end":{"line":119,"column":31}},"51":{"start":{"line":120,"column":12},"end":{"line":120,"column":31}},"52":{"start":{"line":121,"column":12},"end":{"line":121,"column":61}},"53":{"start":{"line":124,"column":12},"end":{"line":124,"column":34}},"54":{"start":{"line":125,"column":12},"end":{"line":125,"column":31}},"55":{"start":{"line":126,"column":12},"end":{"line":126,"column":18}},"56":{"start":{"line":129,"column":12},"end":{"line":129,"column":31}},"57":{"start":{"line":130,"column":12},"end":{"line":130,"column":48}},"58":{"start":{"line":131,"column":12},"end":{"line":136,"column":15}},"59":{"start":{"line":139,"column":12},"end":{"line":142,"column":13}},"60":{"start":{"line":140,"column":14},"end":{"line":140,"column":33}},"61":{"start":{"line":141,"column":14},"end":{"line":141,"column":20}},"62":{"start":{"line":144,"column":12},"end":{"line":149,"column":15}},"63":{"start":{"line":152,"column":12},"end":{"line":152,"column":28}},"64":{"start":{"line":154,"column":12},"end":{"line":157,"column":13}},"65":{"start":{"line":155,"column":14},"end":{"line":155,"column":33}},"66":{"start":{"line":156,"column":14},"end":{"line":156,"column":20}},"67":{"start":{"line":159,"column":12},"end":{"line":164,"column":15}},"68":{"start":{"line":167,"column":12},"end":{"line":167,"column":31}},"69":{"start":{"line":168,"column":12},"end":{"line":168,"column":89}},"70":{"start":{"line":171,"column":12},"end":{"line":176,"column":15}},"71":{"start":{"line":180,"column":12},"end":{"line":180,"column":35}},"72":{"start":{"line":186,"column":2},"end":{"line":188,"column":4}},"73":{"start":{"line":187,"column":4},"end":{"line":187,"column":39}},"74":{"start":{"line":202,"column":0},"end":{"line":202,"column":32}},"75":{"start":{"line":204,"column":30},"end":{"line":386,"column":3}},"76":{"start":{"line":205,"column":14},"end":{"line":381,"column":5}},"77":{"start":{"line":207,"column":4},"end":{"line":380,"column":35}},"78":{"start":{"line":208,"column":6},"end":{"line":379,"column":7}},"79":{"start":{"line":209,"column":8},"end":{"line":378,"column":9}},"80":{"start":{"line":211,"column":12},"end":{"line":214,"column":13}},"81":{"start":{"line":212,"column":14},"end":{"line":212,"column":33}},"82":{"start":{"line":213,"column":14},"end":{"line":213,"column":20}},"83":{"start":{"line":216,"column":12},"end":{"line":221,"column":15}},"84":{"start":{"line":224,"column":12},"end":{"line":227,"column":13}},"85":{"start":{"line":225,"column":14},"end":{"line":225,"column":33}},"86":{"start":{"line":226,"column":14},"end":{"line":226,"column":20}},"87":{"start":{"line":229,"column":12},"end":{"line":234,"column":15}},"88":{"start":{"line":237,"column":12},"end":{"line":240,"column":13}},"89":{"start":{"line":238,"column":14},"end":{"line":238,"column":33}},"90":{"start":{"line":239,"column":14},"end":{"line":239,"column":20}},"91":{"start":{"line":242,"column":12},"end":{"line":247,"column":15}},"92":{"start":{"line":250,"column":12},"end":{"line":253,"column":13}},"93":{"start":{"line":251,"column":14},"end":{"line":251,"column":33}},"94":{"start":{"line":252,"column":14},"end":{"line":252,"column":20}},"95":{"start":{"line":255,"column":12},"end":{"line":260,"column":15}},"96":{"start":{"line":263,"column":12},"end":{"line":263,"column":32}},"97":{"start":{"line":264,"column":12},"end":{"line":264,"column":58}},"98":{"start":{"line":267,"column":12},"end":{"line":267,"column":38}},"99":{"start":{"line":269,"column":12},"end":{"line":272,"column":13}},"100":{"start":{"line":270,"column":14},"end":{"line":270,"column":34}},"101":{"start":{"line":271,"column":14},"end":{"line":271,"column":20}},"102":{"start":{"line":274,"column":12},"end":{"line":279,"column":15}},"103":{"start":{"line":282,"column":12},"end":{"line":282,"column":32}},"104":{"start":{"line":283,"column":12},"end":{"line":286,"column":15}},"105":{"start":{"line":289,"column":12},"end":{"line":289,"column":39}},"106":{"start":{"line":290,"column":12},"end":{"line":295,"column":14}},"107":{"start":{"line":296,"column":12},"end":{"line":296,"column":57}},"108":{"start":{"line":297,"column":12},"end":{"line":297,"column":125}},"109":{"start":{"line":298,"column":12},"end":{"line":298,"column":32}},"110":{"start":{"line":299,"column":12},"end":{"line":299,"column":59}},"111":{"start":{"line":302,"column":12},"end":{"line":302,"column":51}},"112":{"start":{"line":303,"column":12},"end":{"line":303,"column":32}},"113":{"start":{"line":304,"column":12},"end":{"line":304,"column":166}},"114":{"start":{"line":305,"column":12},"end":{"line":312,"column":14}},"115":{"start":{"line":313,"column":12},"end":{"line":313,"column":32}},"116":{"start":{"line":314,"column":12},"end":{"line":314,"column":73}},"117":{"start":{"line":317,"column":12},"end":{"line":317,"column":32}},"118":{"start":{"line":318,"column":12},"end":{"line":318,"column":48}},"119":{"start":{"line":321,"column":12},"end":{"line":321,"column":35}},"120":{"start":{"line":322,"column":12},"end":{"line":322,"column":32}},"121":{"start":{"line":323,"column":12},"end":{"line":329,"column":22}},"122":{"start":{"line":332,"column":12},"end":{"line":332,"column":36}},"123":{"start":{"line":333,"column":12},"end":{"line":333,"column":32}},"124":{"start":{"line":334,"column":12},"end":{"line":338,"column":15}},"125":{"start":{"line":341,"column":12},"end":{"line":341,"column":38}},"126":{"start":{"line":342,"column":12},"end":{"line":342,"column":33}},"127":{"start":{"line":343,"column":12},"end":{"line":343,"column":49}},"128":{"start":{"line":344,"column":12},"end":{"line":344,"column":32}},"129":{"start":{"line":345,"column":12},"end":{"line":345,"column":86}},"130":{"start":{"line":348,"column":12},"end":{"line":348,"column":32}},"131":{"start":{"line":349,"column":12},"end":{"line":349,"column":77}},"132":{"start":{"line":352,"column":12},"end":{"line":352,"column":32}},"133":{"start":{"line":353,"column":12},"end":{"line":353,"column":87}},"134":{"start":{"line":356,"column":12},"end":{"line":361,"column":15}},"135":{"start":{"line":364,"column":12},"end":{"line":364,"column":32}},"136":{"start":{"line":365,"column":12},"end":{"line":365,"column":50}},"137":{"start":{"line":367,"column":12},"end":{"line":367,"column":33}},"138":{"start":{"line":368,"column":12},"end":{"line":373,"column":15}},"139":{"start":{"line":377,"column":12},"end":{"line":377,"column":36}},"140":{"start":{"line":383,"column":2},"end":{"line":385,"column":4}},"141":{"start":{"line":384,"column":4},"end":{"line":384,"column":40}},"142":{"start":{"line":399,"column":0},"end":{"line":399,"column":32}},"143":{"start":{"line":401,"column":25},"end":{"line":566,"column":3}},"144":{"start":{"line":402,"column":14},"end":{"line":561,"column":5}},"145":{"start":{"line":404,"column":4},"end":{"line":560,"column":17}},"146":{"start":{"line":405,"column":6},"end":{"line":559,"column":7}},"147":{"start":{"line":406,"column":8},"end":{"line":558,"column":9}},"148":{"start":{"line":408,"column":12},"end":{"line":411,"column":13}},"149":{"start":{"line":409,"column":14},"end":{"line":409,"column":33}},"150":{"start":{"line":410,"column":14},"end":{"line":410,"column":20}},"151":{"start":{"line":413,"column":12},"end":{"line":418,"column":15}},"152":{"start":{"line":421,"column":12},"end":{"line":424,"column":13}},"153":{"start":{"line":422,"column":14},"end":{"line":422,"column":33}},"154":{"start":{"line":423,"column":14},"end":{"line":423,"column":20}},"155":{"start":{"line":426,"column":12},"end":{"line":431,"column":15}},"156":{"start":{"line":434,"column":12},"end":{"line":437,"column":13}},"157":{"start":{"line":435,"column":14},"end":{"line":435,"column":33}},"158":{"start":{"line":436,"column":14},"end":{"line":436,"column":20}},"159":{"start":{"line":439,"column":12},"end":{"line":444,"column":15}},"160":{"start":{"line":447,"column":12},"end":{"line":450,"column":13}},"161":{"start":{"line":448,"column":14},"end":{"line":448,"column":33}},"162":{"start":{"line":449,"column":14},"end":{"line":449,"column":20}},"163":{"start":{"line":452,"column":12},"end":{"line":457,"column":15}},"164":{"start":{"line":460,"column":12},"end":{"line":460,"column":32}},"165":{"start":{"line":461,"column":12},"end":{"line":461,"column":58}},"166":{"start":{"line":464,"column":12},"end":{"line":464,"column":35}},"167":{"start":{"line":466,"column":12},"end":{"line":469,"column":13}},"168":{"start":{"line":467,"column":14},"end":{"line":467,"column":34}},"169":{"start":{"line":468,"column":14},"end":{"line":468,"column":20}},"170":{"start":{"line":471,"column":12},"end":{"line":471,"column":32}},"171":{"start":{"line":472,"column":12},"end":{"line":472,"column":65}},"172":{"start":{"line":475,"column":12},"end":{"line":475,"column":35}},"173":{"start":{"line":477,"column":12},"end":{"line":480,"column":13}},"174":{"start":{"line":478,"column":14},"end":{"line":478,"column":34}},"175":{"start":{"line":479,"column":14},"end":{"line":479,"column":20}},"176":{"start":{"line":482,"column":12},"end":{"line":487,"column":15}},"177":{"start":{"line":490,"column":12},"end":{"line":490,"column":28}},"178":{"start":{"line":492,"column":12},"end":{"line":495,"column":13}},"179":{"start":{"line":493,"column":14},"end":{"line":493,"column":34}},"180":{"start":{"line":494,"column":14},"end":{"line":494,"column":20}},"181":{"start":{"line":497,"column":12},"end":{"line":502,"column":15}},"182":{"start":{"line":505,"column":12},"end":{"line":505,"column":32}},"183":{"start":{"line":506,"column":12},"end":{"line":522,"column":15}},"184":{"start":{"line":525,"column":12},"end":{"line":525,"column":38}},"185":{"start":{"line":527,"column":12},"end":{"line":530,"column":13}},"186":{"start":{"line":528,"column":14},"end":{"line":528,"column":34}},"187":{"start":{"line":529,"column":14},"end":{"line":529,"column":20}},"188":{"start":{"line":532,"column":12},"end":{"line":537,"column":15}},"189":{"start":{"line":540,"column":12},"end":{"line":545,"column":15}},"190":{"start":{"line":546,"column":12},"end":{"line":553,"column":15}},"191":{"start":{"line":557,"column":12},"end":{"line":557,"column":36}},"192":{"start":{"line":563,"column":2},"end":{"line":565,"column":4}},"193":{"start":{"line":564,"column":4},"end":{"line":564,"column":40}},"194":{"start":{"line":575,"column":0},"end":{"line":575,"column":22}},"195":{"start":{"line":577,"column":26},"end":{"line":643,"column":3}},"196":{"start":{"line":578,"column":14},"end":{"line":638,"column":5}},"197":{"start":{"line":580,"column":4},"end":{"line":637,"column":17}},"198":{"start":{"line":581,"column":6},"end":{"line":636,"column":7}},"199":{"start":{"line":582,"column":8},"end":{"line":635,"column":9}},"200":{"start":{"line":584,"column":12},"end":{"line":587,"column":13}},"201":{"start":{"line":585,"column":14},"end":{"line":585,"column":33}},"202":{"start":{"line":586,"column":14},"end":{"line":586,"column":20}},"203":{"start":{"line":589,"column":12},"end":{"line":594,"column":15}},"204":{"start":{"line":597,"column":12},"end":{"line":597,"column":31}},"205":{"start":{"line":598,"column":12},"end":{"line":598,"column":60}},"206":{"start":{"line":601,"column":12},"end":{"line":601,"column":38}},"207":{"start":{"line":602,"column":12},"end":{"line":602,"column":31}},"208":{"start":{"line":603,"column":12},"end":{"line":603,"column":35}},"209":{"start":{"line":606,"column":12},"end":{"line":606,"column":40}},"210":{"start":{"line":608,"column":12},"end":{"line":611,"column":13}},"211":{"start":{"line":609,"column":14},"end":{"line":609,"column":34}},"212":{"start":{"line":610,"column":14},"end":{"line":610,"column":20}},"213":{"start":{"line":613,"column":12},"end":{"line":618,"column":15}},"214":{"start":{"line":621,"column":12},"end":{"line":621,"column":32}},"215":{"start":{"line":622,"column":12},"end":{"line":622,"column":74}},"216":{"start":{"line":625,"column":12},"end":{"line":630,"column":15}},"217":{"start":{"line":634,"column":12},"end":{"line":634,"column":36}},"218":{"start":{"line":640,"column":2},"end":{"line":642,"column":4}},"219":{"start":{"line":641,"column":4},"end":{"line":641,"column":40}},"220":{"start":{"line":645,"column":0},"end":{"line":645,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":53,"column":30},"end":{"line":53,"column":31}},"loc":{"start":{"line":53,"column":42},"end":{"line":189,"column":1}},"line":53},"1":{"name":"_callee","decl":{"start":{"line":54,"column":100},"end":{"line":54,"column":107}},"loc":{"start":{"line":54,"column":141},"end":{"line":184,"column":3}},"line":54},"2":{"name":"_callee$","decl":{"start":{"line":56,"column":49},"end":{"line":56,"column":57}},"loc":{"start":{"line":56,"column":68},"end":{"line":183,"column":5}},"line":56},"3":{"name":"changeUser","decl":{"start":{"line":186,"column":18},"end":{"line":186,"column":28}},"loc":{"start":{"line":186,"column":43},"end":{"line":188,"column":3}},"line":186},"4":{"name":"(anonymous_4)","decl":{"start":{"line":204,"column":30},"end":{"line":204,"column":31}},"loc":{"start":{"line":204,"column":42},"end":{"line":386,"column":1}},"line":204},"5":{"name":"_callee2","decl":{"start":{"line":205,"column":101},"end":{"line":205,"column":109}},"loc":{"start":{"line":205,"column":139},"end":{"line":381,"column":3}},"line":205},"6":{"name":"_callee2$","decl":{"start":{"line":207,"column":49},"end":{"line":207,"column":58}},"loc":{"start":{"line":207,"column":70},"end":{"line":380,"column":5}},"line":207},"7":{"name":"createUser","decl":{"start":{"line":383,"column":18},"end":{"line":383,"column":28}},"loc":{"start":{"line":383,"column":49},"end":{"line":385,"column":3}},"line":383},"8":{"name":"(anonymous_8)","decl":{"start":{"line":401,"column":25},"end":{"line":401,"column":26}},"loc":{"start":{"line":401,"column":37},"end":{"line":566,"column":1}},"line":401},"9":{"name":"_callee3","decl":{"start":{"line":402,"column":101},"end":{"line":402,"column":109}},"loc":{"start":{"line":402,"column":152},"end":{"line":561,"column":3}},"line":402},"10":{"name":"_callee3$","decl":{"start":{"line":404,"column":49},"end":{"line":404,"column":58}},"loc":{"start":{"line":404,"column":70},"end":{"line":560,"column":5}},"line":404},"11":{"name":"logIn","decl":{"start":{"line":563,"column":18},"end":{"line":563,"column":23}},"loc":{"start":{"line":563,"column":46},"end":{"line":565,"column":3}},"line":563},"12":{"name":"(anonymous_12)","decl":{"start":{"line":577,"column":26},"end":{"line":577,"column":27}},"loc":{"start":{"line":577,"column":38},"end":{"line":643,"column":1}},"line":577},"13":{"name":"_callee4","decl":{"start":{"line":578,"column":101},"end":{"line":578,"column":109}},"loc":{"start":{"line":578,"column":117},"end":{"line":638,"column":3}},"line":578},"14":{"name":"_callee4$","decl":{"start":{"line":580,"column":49},"end":{"line":580,"column":58}},"loc":{"start":{"line":580,"column":70},"end":{"line":637,"column":5}},"line":580},"15":{"name":"logout","decl":{"start":{"line":640,"column":18},"end":{"line":640,"column":24}},"loc":{"start":{"line":640,"column":31},"end":{"line":642,"column":3}},"line":640}},"branchMap":{"0":{"loc":{"start":{"line":40,"column":11},"end":{"line":40,"column":53}},"type":"binary-expr","locations":[{"start":{"line":40,"column":11},"end":{"line":40,"column":34}},{"start":{"line":40,"column":38},"end":{"line":40,"column":53}}],"line":40},"1":{"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":42}},"type":"binary-expr","locations":[{"start":{"line":41,"column":11},"end":{"line":41,"column":34}},{"start":{"line":41,"column":38},"end":{"line":41,"column":42}}],"line":41},"2":{"loc":{"start":{"line":58,"column":8},"end":{"line":181,"column":9}},"type":"switch","locations":[{"start":{"line":59,"column":10},"end":{"line":70,"column":15}},{"start":{"line":72,"column":10},"end":{"line":74,"column":60}},{"start":{"line":76,"column":10},"end":{"line":79,"column":35}},{"start":{"line":81,"column":10},"end":{"line":94,"column":15}},{"start":{"line":96,"column":10},"end":{"line":105,"column":15}},{"start":{"line":107,"column":10},"end":{"line":116,"column":15}},{"start":{"line":118,"column":10},"end":{"line":121,"column":61}},{"start":{"line":123,"column":10},"end":{"line":126,"column":18}},{"start":{"line":128,"column":10},"end":{"line":136,"column":15}},{"start":{"line":138,"column":10},"end":{"line":149,"column":15}},{"start":{"line":151,"column":10},"end":{"line":164,"column":15}},{"start":{"line":166,"column":10},"end":{"line":168,"column":89}},{"start":{"line":170,"column":10},"end":{"line":176,"column":15}},{"start":{"line":178,"column":10},"end":{"line":178,"column":18}},{"start":{"line":179,"column":10},"end":{"line":180,"column":35}}],"line":58},"3":{"loc":{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},{"start":{"line":60,"column":12},"end":{"line":63,"column":13}}],"line":60},"4":{"loc":{"start":{"line":84,"column":12},"end":{"line":87,"column":13}},"type":"if","locations":[{"start":{"line":84,"column":12},"end":{"line":87,"column":13}},{"start":{"line":84,"column":12},"end":{"line":87,"column":13}}],"line":84},"5":{"loc":{"start":{"line":84,"column":18},"end":{"line":84,"column":49}},"type":"binary-expr","locations":[{"start":{"line":84,"column":18},"end":{"line":84,"column":27}},{"start":{"line":84,"column":31},"end":{"line":84,"column":49}}],"line":84},"6":{"loc":{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},{"start":{"line":97,"column":12},"end":{"line":100,"column":13}}],"line":97},"7":{"loc":{"start":{"line":108,"column":12},"end":{"line":111,"column":13}},"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":111,"column":13}},{"start":{"line":108,"column":12},"end":{"line":111,"column":13}}],"line":108},"8":{"loc":{"start":{"line":139,"column":12},"end":{"line":142,"column":13}},"type":"if","locations":[{"start":{"line":139,"column":12},"end":{"line":142,"column":13}},{"start":{"line":139,"column":12},"end":{"line":142,"column":13}}],"line":139},"9":{"loc":{"start":{"line":154,"column":12},"end":{"line":157,"column":13}},"type":"if","locations":[{"start":{"line":154,"column":12},"end":{"line":157,"column":13}},{"start":{"line":154,"column":12},"end":{"line":157,"column":13}}],"line":154},"10":{"loc":{"start":{"line":209,"column":8},"end":{"line":378,"column":9}},"type":"switch","locations":[{"start":{"line":210,"column":10},"end":{"line":221,"column":15}},{"start":{"line":223,"column":10},"end":{"line":234,"column":15}},{"start":{"line":236,"column":10},"end":{"line":247,"column":15}},{"start":{"line":249,"column":10},"end":{"line":260,"column":15}},{"start":{"line":262,"column":10},"end":{"line":264,"column":58}},{"start":{"line":266,"column":10},"end":{"line":279,"column":15}},{"start":{"line":281,"column":10},"end":{"line":286,"column":15}},{"start":{"line":288,"column":10},"end":{"line":299,"column":59}},{"start":{"line":301,"column":10},"end":{"line":314,"column":73}},{"start":{"line":316,"column":10},"end":{"line":318,"column":48}},{"start":{"line":320,"column":10},"end":{"line":329,"column":22}},{"start":{"line":331,"column":10},"end":{"line":338,"column":15}},{"start":{"line":340,"column":10},"end":{"line":345,"column":86}},{"start":{"line":347,"column":10},"end":{"line":349,"column":77}},{"start":{"line":351,"column":10},"end":{"line":353,"column":87}},{"start":{"line":355,"column":10},"end":{"line":361,"column":15}},{"start":{"line":363,"column":10},"end":{"line":373,"column":15}},{"start":{"line":375,"column":10},"end":{"line":375,"column":18}},{"start":{"line":376,"column":10},"end":{"line":377,"column":36}}],"line":209},"11":{"loc":{"start":{"line":211,"column":12},"end":{"line":214,"column":13}},"type":"if","locations":[{"start":{"line":211,"column":12},"end":{"line":214,"column":13}},{"start":{"line":211,"column":12},"end":{"line":214,"column":13}}],"line":211},"12":{"loc":{"start":{"line":211,"column":18},"end":{"line":211,"column":67}},"type":"binary-expr","locations":[{"start":{"line":211,"column":18},"end":{"line":211,"column":24}},{"start":{"line":211,"column":28},"end":{"line":211,"column":67}}],"line":211},"13":{"loc":{"start":{"line":224,"column":12},"end":{"line":227,"column":13}},"type":"if","locations":[{"start":{"line":224,"column":12},"end":{"line":227,"column":13}},{"start":{"line":224,"column":12},"end":{"line":227,"column":13}}],"line":224},"14":{"loc":{"start":{"line":224,"column":18},"end":{"line":224,"column":195}},"type":"binary-expr","locations":[{"start":{"line":224,"column":18},"end":{"line":224,"column":24}},{"start":{"line":224,"column":28},"end":{"line":224,"column":195}}],"line":224},"15":{"loc":{"start":{"line":237,"column":12},"end":{"line":240,"column":13}},"type":"if","locations":[{"start":{"line":237,"column":12},"end":{"line":240,"column":13}},{"start":{"line":237,"column":12},"end":{"line":240,"column":13}}],"line":237},"16":{"loc":{"start":{"line":237,"column":18},"end":{"line":237,"column":53}},"type":"binary-expr","locations":[{"start":{"line":237,"column":18},"end":{"line":237,"column":27}},{"start":{"line":237,"column":31},"end":{"line":237,"column":53}}],"line":237},"17":{"loc":{"start":{"line":250,"column":12},"end":{"line":253,"column":13}},"type":"if","locations":[{"start":{"line":250,"column":12},"end":{"line":253,"column":13}},{"start":{"line":250,"column":12},"end":{"line":253,"column":13}}],"line":250},"18":{"loc":{"start":{"line":250,"column":18},"end":{"line":250,"column":62}},"type":"binary-expr","locations":[{"start":{"line":250,"column":18},"end":{"line":250,"column":22}},{"start":{"line":250,"column":26},"end":{"line":250,"column":62}}],"line":250},"19":{"loc":{"start":{"line":269,"column":12},"end":{"line":272,"column":13}},"type":"if","locations":[{"start":{"line":269,"column":12},"end":{"line":272,"column":13}},{"start":{"line":269,"column":12},"end":{"line":272,"column":13}}],"line":269},"20":{"loc":{"start":{"line":406,"column":8},"end":{"line":558,"column":9}},"type":"switch","locations":[{"start":{"line":407,"column":10},"end":{"line":418,"column":15}},{"start":{"line":420,"column":10},"end":{"line":431,"column":15}},{"start":{"line":433,"column":10},"end":{"line":444,"column":15}},{"start":{"line":446,"column":10},"end":{"line":457,"column":15}},{"start":{"line":459,"column":10},"end":{"line":461,"column":58}},{"start":{"line":463,"column":10},"end":{"line":472,"column":65}},{"start":{"line":474,"column":10},"end":{"line":487,"column":15}},{"start":{"line":489,"column":10},"end":{"line":502,"column":15}},{"start":{"line":504,"column":10},"end":{"line":522,"column":15}},{"start":{"line":524,"column":10},"end":{"line":537,"column":15}},{"start":{"line":539,"column":10},"end":{"line":553,"column":15}},{"start":{"line":555,"column":10},"end":{"line":555,"column":18}},{"start":{"line":556,"column":10},"end":{"line":557,"column":36}}],"line":406},"21":{"loc":{"start":{"line":408,"column":12},"end":{"line":411,"column":13}},"type":"if","locations":[{"start":{"line":408,"column":12},"end":{"line":411,"column":13}},{"start":{"line":408,"column":12},"end":{"line":411,"column":13}}],"line":408},"22":{"loc":{"start":{"line":421,"column":12},"end":{"line":424,"column":13}},"type":"if","locations":[{"start":{"line":421,"column":12},"end":{"line":424,"column":13}},{"start":{"line":421,"column":12},"end":{"line":424,"column":13}}],"line":421},"23":{"loc":{"start":{"line":421,"column":18},"end":{"line":421,"column":53}},"type":"binary-expr","locations":[{"start":{"line":421,"column":18},"end":{"line":421,"column":27}},{"start":{"line":421,"column":31},"end":{"line":421,"column":53}}],"line":421},"24":{"loc":{"start":{"line":434,"column":12},"end":{"line":437,"column":13}},"type":"if","locations":[{"start":{"line":434,"column":12},"end":{"line":437,"column":13}},{"start":{"line":434,"column":12},"end":{"line":437,"column":13}}],"line":434},"25":{"loc":{"start":{"line":447,"column":12},"end":{"line":450,"column":13}},"type":"if","locations":[{"start":{"line":447,"column":12},"end":{"line":450,"column":13}},{"start":{"line":447,"column":12},"end":{"line":450,"column":13}}],"line":447},"26":{"loc":{"start":{"line":466,"column":12},"end":{"line":469,"column":13}},"type":"if","locations":[{"start":{"line":466,"column":12},"end":{"line":469,"column":13}},{"start":{"line":466,"column":12},"end":{"line":469,"column":13}}],"line":466},"27":{"loc":{"start":{"line":477,"column":12},"end":{"line":480,"column":13}},"type":"if","locations":[{"start":{"line":477,"column":12},"end":{"line":480,"column":13}},{"start":{"line":477,"column":12},"end":{"line":480,"column":13}}],"line":477},"28":{"loc":{"start":{"line":492,"column":12},"end":{"line":495,"column":13}},"type":"if","locations":[{"start":{"line":492,"column":12},"end":{"line":495,"column":13}},{"start":{"line":492,"column":12},"end":{"line":495,"column":13}}],"line":492},"29":{"loc":{"start":{"line":527,"column":12},"end":{"line":530,"column":13}},"type":"if","locations":[{"start":{"line":527,"column":12},"end":{"line":530,"column":13}},{"start":{"line":527,"column":12},"end":{"line":530,"column":13}}],"line":527},"30":{"loc":{"start":{"line":527,"column":18},"end":{"line":527,"column":113}},"type":"binary-expr","locations":[{"start":{"line":527,"column":18},"end":{"line":527,"column":35}},{"start":{"line":527,"column":39},"end":{"line":527,"column":113}}],"line":527},"31":{"loc":{"start":{"line":582,"column":8},"end":{"line":635,"column":9}},"type":"switch","locations":[{"start":{"line":583,"column":10},"end":{"line":594,"column":15}},{"start":{"line":596,"column":10},"end":{"line":598,"column":60}},{"start":{"line":600,"column":10},"end":{"line":603,"column":35}},{"start":{"line":605,"column":10},"end":{"line":618,"column":15}},{"start":{"line":620,"column":10},"end":{"line":622,"column":74}},{"start":{"line":624,"column":10},"end":{"line":630,"column":15}},{"start":{"line":632,"column":10},"end":{"line":632,"column":18}},{"start":{"line":633,"column":10},"end":{"line":634,"column":36}}],"line":582},"32":{"loc":{"start":{"line":584,"column":12},"end":{"line":587,"column":13}},"type":"if","locations":[{"start":{"line":584,"column":12},"end":{"line":587,"column":13}},{"start":{"line":584,"column":12},"end":{"line":587,"column":13}}],"line":584},"33":{"loc":{"start":{"line":608,"column":12},"end":{"line":611,"column":13}},"type":"if","locations":[{"start":{"line":608,"column":12},"end":{"line":611,"column":13}},{"start":{"line":608,"column":12},"end":{"line":611,"column":13}}],"line":608},"34":{"loc":{"start":{"line":608,"column":18},"end":{"line":608,"column":49}},"type":"binary-expr","locations":[{"start":{"line":608,"column":18},"end":{"line":608,"column":27}},{"start":{"line":608,"column":31},"end":{"line":608,"column":49}}],"line":608}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":6,"27":13,"28":1,"29":1,"30":1,"31":0,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":0,"42":1,"43":1,"44":1,"45":0,"46":1,"47":1,"48":1,"49":0,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":0,"57":0,"58":0,"59":1,"60":1,"61":1,"62":0,"63":1,"64":1,"65":1,"66":1,"67":0,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":9,"78":108,"79":153,"80":9,"81":9,"82":9,"83":0,"84":9,"85":9,"86":9,"87":0,"88":9,"89":9,"90":9,"91":0,"92":9,"93":9,"94":9,"95":0,"96":9,"97":9,"98":9,"99":9,"100":9,"101":9,"102":0,"103":9,"104":9,"105":9,"106":9,"107":9,"108":9,"109":9,"110":9,"111":9,"112":9,"113":9,"114":9,"115":9,"116":9,"117":9,"118":9,"119":9,"120":9,"121":9,"122":9,"123":9,"124":9,"125":9,"126":9,"127":9,"128":9,"129":9,"130":9,"131":9,"132":9,"133":9,"134":9,"135":0,"136":0,"137":0,"138":0,"139":9,"140":1,"141":9,"142":1,"143":1,"144":1,"145":8,"146":32,"147":88,"148":8,"149":8,"150":8,"151":0,"152":8,"153":8,"154":8,"155":0,"156":8,"157":8,"158":8,"159":0,"160":8,"161":8,"162":8,"163":0,"164":8,"165":8,"166":8,"167":8,"168":8,"169":8,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":8,"178":8,"179":8,"180":8,"181":0,"182":8,"183":8,"184":8,"185":8,"186":8,"187":8,"188":0,"189":8,"190":8,"191":8,"192":1,"193":8,"194":1,"195":1,"196":1,"197":1,"198":5,"199":7,"200":1,"201":1,"202":1,"203":0,"204":1,"205":1,"206":1,"207":1,"208":1,"209":1,"210":1,"211":1,"212":1,"213":0,"214":1,"215":1,"216":1,"217":1,"218":1,"219":1,"220":1},"f":{"0":1,"1":1,"2":6,"3":1,"4":1,"5":9,"6":108,"7":9,"8":1,"9":8,"10":32,"11":8,"12":1,"13":1,"14":5,"15":1},"b":{"0":[1,0],"1":[1,0],"2":[1,1,1,1,1,1,1,1,0,1,1,1,1,0,1],"3":[1,0],"4":[1,0],"5":[1,1],"6":[1,0],"7":[1,0],"8":[1,0],"9":[1,0],"10":[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,9],"11":[9,0],"12":[9,9],"13":[9,0],"14":[9,9],"15":[9,0],"16":[9,9],"17":[9,0],"18":[9,9],"19":[9,0],"20":[8,8,8,8,8,8,0,8,8,8,8,0,8],"21":[8,0],"22":[8,0],"23":[8,8],"24":[8,0],"25":[8,0],"26":[8,0],"27":[0,0],"28":[8,0],"29":[8,0],"30":[8,8],"31":[1,1,1,1,1,1,0,1],"32":[1,0],"33":[1,0],"34":[1,1]},"inputSourceMap":{"version":3,"sources":["UserService.js"],"names":["HOST","process","env","FABRIC_HOST","PORT","FABRIC_PORT","ca","FabricCAService","conn","configDB","redisGet","redisClient","get","bind","changeUser","oldPassword","newPassword","token","code","payload","message","validator","getUserFromToken","username","blackToken","DB","getUser","users","length","user","password","updateUser","createUser","login","email","csr","match","validationCSR","userList","enroll","enrollmentID","enrollmentSecret","adminData","identity","label","certificate","privateKey","key","toBytes","mspId","wallet","InMemoryWallet","mixin","X509WalletMixin","createIdentity","gateway","Gateway","connectionProfile","yaml","safeLoad","fs","readFileSync","path","resolve","__dirname","FABRIC_CONFIG_FILE","connectionOptions","discovery","enabled","asLocalhost","connect","getCurrentIdentity","admin","register","role","affiliation","maxEnrollments","secret","userData","disconnect","folder","insertUser","insertFolder","insertCertData","cert","logIn","validationCertificate","validationPrivateKey","getUserByEmail","sendTransaction","network","channel","chaincode","contract","transaction","name","props","response","userId","substring","jwt","sign","data","issuer","expiresIn","logout","set"],"mappings":"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","sourceRoot":"/app/src/service/","sourcesContent":["import fs from 'fs';\nimport sha256 from 'sha256';\nimport path from 'path';\nimport jwt from 'jsonwebtoken';\nimport FabricCAService from 'fabric-ca-client';\nimport { promisify } from 'util';\n\nimport { Gateway, InMemoryWallet, X509WalletMixin } from 'fabric-network';\n\nimport yaml from 'js-yaml';\nimport validator from '../helpers/auth';\nimport configDB from '../database/configDB';\nimport connection from '../database/connect';\nimport DB from '../database/utils';\nimport { redisClient } from '../adapter/redis';\n\n\nconst HOST = process.env.FABRIC_HOST || '167.71.49.240';\nconst PORT = process.env.FABRIC_PORT || 7054;\n\nconst ca = new FabricCAService(`http://${HOST}:${PORT}`);\nconst conn = connection(configDB);\nconst redisGet = promisify(redisClient.get).bind(redisClient);\n/**\n * Update user password\n * Changing user credentials\n *\n * body Body\n * no response value expected for this operation\n * */\nexport const changeUser = async (oldPassword, newPassword, token) => {\n  if (!token) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const username = await validator.getUserFromToken(token);\n  const blackToken = await redisGet(token);\n  if (!username || blackToken != null) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n\n  if (oldPassword === newPassword) {\n    return { code: 422, payload: 'You cannot change the password to the same' };\n  }\n\n  if (!newPassword) {\n    return { code: 422, payload: 'New password is empty' };\n  }\n\n  let users;\n  try {\n    users = await DB.getUser(conn, username);\n  } catch (e) {\n    return { code: 500, payload: { message: 'Something happened with database connection.' } };\n  }\n  if (users.length === 0) {\n    return { code: 404, payload: { message: 'User not found.' } };\n  }\n\n  const user = users[0];\n  if (oldPassword !== user.password) {\n    return { code: 422, payload: { message: 'Invalid password supplied.' } };\n  }\n\n  await DB.updateUser(conn, username, 'password', newPassword);\n  return { code: 200, payload: { message: 'User password successfully changed.' } };\n};\n\n\n/**\n * Create user\n * After registration user receive Certificate for Fabric CA\n *\n * login String\n * email String\n * password String\n * csr byte[]\n * no response value expected for this operation\n * */\nexport const createUser = async (login, email, password, csr) => {\n  if (!login || !login.match(/^[a-zA-Z0-9-_.]{2,20}$/g)) {\n    return { code: 422, payload: { message: 'Username is not specified' } };\n  }\n  if (!email || !email.match(\n    /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/g,\n  )) {\n    return { code: 422, payload: { message: 'Email is not specified' } };\n  }\n  if (!password || password.length !== 64) {\n    return { code: 422, payload: { message: 'Password is invalid' } };\n  }\n\n  if (!csr || !validator.validationCSR(csr)) {\n    return { code: 422, payload: { message: 'CSR is not correct' } };\n  }\n\n  const userList = await DB.getUser(conn, login);\n  if (userList.length !== 0) {\n    return { code: 409, payload: { message: 'User with the same name already exists.' } };\n  }\n  /**\n   *\n   * @type {FabricCAServices.IEnrollResponse}\n   */\n  const adminData = await ca.enroll({ enrollmentID: 'admin', enrollmentSecret: 'password' });\n  const identity = {\n    label: 'client',\n    certificate: adminData.certificate,\n    privateKey: adminData.key.toBytes(),\n    mspId: '482solutions',\n  };\n  const wallet = new InMemoryWallet();\n  const mixin = X509WalletMixin.createIdentity(identity.mspId,\n    identity.certificate,\n    identity.privateKey);\n  await wallet.import(identity.label, mixin);\n  const gateway = new Gateway();\n  try {\n    const connectionProfile = yaml.safeLoad(\n      fs.readFileSync(path.resolve(__dirname, process.env.FABRIC_CONFIG_FILE), 'utf8'),\n    );\n    const connectionOptions = {\n      identity: identity.label,\n      wallet,\n      discovery: { enabled: false, asLocalhost: true },\n    };\n\n    await gateway.connect(connectionProfile, connectionOptions);\n\n    const admin = await gateway.getCurrentIdentity();\n\n    const secret = await ca.register({\n      enrollmentID: login,\n      enrollmentSecret: password,\n      role: 'peer',\n      affiliation: '482solutions.prj-fabric',\n      maxEnrollments: -1,\n    }, admin);\n\n    const userData = await ca.enroll({\n      enrollmentID: login,\n      enrollmentSecret: secret,\n      csr,\n    });\n\n    gateway.disconnect();\n    const folder = sha256(login);\n    await DB.insertUser(conn, login, password, email, folder);\n    await DB.insertFolder(conn, login, folder, null);\n    await DB.insertCertData(conn, login, userData.certificate);\n    return { code: 201, payload: { cert: userData.certificate } };\n  } catch (error) {\n    // Disconnect from the gateway\n    gateway.disconnect();\n    return { code: 400, payload: { message: error } };\n  }\n};\n\n\n/**\n * Login user into the system\n * Authentication for users to get in to the system and receive JWT token\n *\n * login String\n * password String\n * certificate byte[]\n * privateKey byte[]\n * no response value expected for this operation\n * */\nexport const logIn = async (login, password, certificate, privateKey) => {\n  if (!login) {\n    return { code: 422, payload: { message: 'Invalid username/email supplied.' } };\n  }\n  if (!password || password.length !== 64) {\n    return { code: 422, payload: { message: 'Invalid password supplied.' } };\n  }\n  if (!validator.validationCertificate(certificate)) {\n    return { code: 422, payload: { message: 'Certificate is not correct' } };\n  }\n  if (!validator.validationPrivateKey(privateKey)) {\n    return { code: 422, payload: { message: 'Private Key is not correct' } };\n  }\n\n  let users = await DB.getUser(conn, login);\n  if (users.length === 0) {\n    users = await DB.getUserByEmail(conn, login);\n    if (users.length === 0) {\n      return { code: 404, payload: { message: 'User not found.' } };\n    }\n  }\n\n  const user = users[0];\n  if (user.password !== password) {\n    return { code: 400, payload: { message: 'Invalid password supplied.' } };\n  }\n  const response = await validator.sendTransaction({\n    identity: {\n      label: user.username,\n      certificate,\n      privateKey,\n      mspId: '482solutions',\n    },\n    network: {\n      channel: 'testchannel',\n      chaincode: 'electricitycc',\n      contract: 'org.fabric.marketcontract',\n    },\n    transaction: {\n      name: 'registerUser',\n      props: [''],\n    },\n  });\n  if (response === null\n    || response.userId.substring(86, 86 + user.username.length) !== user.username) {\n    return { code: 403, payload: { message: 'Invalid certificate/private key supplied.' } };\n  }\n\n  const token = jwt.sign({ data: user.username, issuer: '482solutions' },\n    '482solutions',\n    { expiresIn: '1h' });\n  return { code: 200, payload: { message: 'Welcome', token, folder: user.folder } };\n};\n\n\n/**\n * Logout user from the system\n * Manualy exit from the system\n *\n * no response value expected for this operation\n * */\nexport const logout = async (token) => {\n  if (!token) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const username = await validator.getUserFromToken(token);\n  const blackToken = await redisGet(token);\n  if (!username || blackToken != null) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  await redisClient.set(token, username, 'EX', 60 * 60);\n  return { code: 200, payload: { message: 'User successfully logout.' } };\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8457bd41859e6d81b23166c2e9269fc84a630ab5","contentHash":"94de835d3dd3a2e772f718c636b5c541981d0ba1be15bb70a673540e7267d1c5"},"/app/src/helpers/auth.js":{"path":"/app/src/helpers/auth.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":26},"end":{"line":5,"column":101}},"2":{"start":{"line":7,"column":19},"end":{"line":7,"column":80}},"3":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"4":{"start":{"line":11,"column":10},"end":{"line":11,"column":47}},"5":{"start":{"line":13,"column":21},"end":{"line":13,"column":46}},"6":{"start":{"line":15,"column":20},"end":{"line":15,"column":67}},"7":{"start":{"line":17,"column":14},"end":{"line":17,"column":56}},"8":{"start":{"line":19,"column":12},"end":{"line":19,"column":51}},"9":{"start":{"line":21,"column":13},"end":{"line":21,"column":27}},"10":{"start":{"line":23,"column":0},"end":{"line":53,"column":2}},"11":{"start":{"line":25,"column":4},"end":{"line":30,"column":6}},"12":{"start":{"line":33,"column":2},"end":{"line":50,"column":3}},"13":{"start":{"line":34,"column":22},"end":{"line":34,"column":41}},"14":{"start":{"line":36,"column":4},"end":{"line":49,"column":7}},"15":{"start":{"line":37,"column":6},"end":{"line":46,"column":7}},"16":{"start":{"line":38,"column":26},"end":{"line":38,"column":56}},"17":{"start":{"line":40,"column":8},"end":{"line":43,"column":9}},"18":{"start":{"line":41,"column":10},"end":{"line":41,"column":34}},"19":{"start":{"line":42,"column":10},"end":{"line":42,"column":32}},"20":{"start":{"line":45,"column":8},"end":{"line":45,"column":37}},"21":{"start":{"line":48,"column":6},"end":{"line":48,"column":35}},"22":{"start":{"line":52,"column":2},"end":{"line":52,"column":31}},"23":{"start":{"line":55,"column":0},"end":{"line":62,"column":2}},"24":{"start":{"line":56,"column":2},"end":{"line":61,"column":5}},"25":{"start":{"line":64,"column":0},"end":{"line":67,"column":2}},"26":{"start":{"line":65,"column":19},"end":{"line":65,"column":43}},"27":{"start":{"line":66,"column":2},"end":{"line":66,"column":114}},"28":{"start":{"line":69,"column":0},"end":{"line":72,"column":2}},"29":{"start":{"line":70,"column":20},"end":{"line":70,"column":44}},"30":{"start":{"line":71,"column":2},"end":{"line":71,"column":116}},"31":{"start":{"line":74,"column":0},"end":{"line":77,"column":2}},"32":{"start":{"line":75,"column":12},"end":{"line":75,"column":36}},"33":{"start":{"line":76,"column":2},"end":{"line":76,"column":116}},"34":{"start":{"line":79,"column":0},"end":{"line":120,"column":4}},"35":{"start":{"line":80,"column":13},"end":{"line":115,"column":5}},"36":{"start":{"line":82,"column":4},"end":{"line":114,"column":32}},"37":{"start":{"line":83,"column":6},"end":{"line":113,"column":7}},"38":{"start":{"line":84,"column":8},"end":{"line":112,"column":9}},"39":{"start":{"line":86,"column":12},"end":{"line":89,"column":13}},"40":{"start":{"line":87,"column":14},"end":{"line":87,"column":33}},"41":{"start":{"line":88,"column":14},"end":{"line":88,"column":20}},"42":{"start":{"line":91,"column":12},"end":{"line":91,"column":46}},"43":{"start":{"line":92,"column":12},"end":{"line":92,"column":30}},"44":{"start":{"line":93,"column":12},"end":{"line":93,"column":30}},"45":{"start":{"line":94,"column":12},"end":{"line":94,"column":99}},"46":{"start":{"line":97,"column":12},"end":{"line":97,"column":41}},"47":{"start":{"line":98,"column":12},"end":{"line":98,"column":31}},"48":{"start":{"line":99,"column":12},"end":{"line":99,"column":18}},"49":{"start":{"line":102,"column":12},"end":{"line":102,"column":30}},"50":{"start":{"line":103,"column":12},"end":{"line":103,"column":47}},"51":{"start":{"line":104,"column":12},"end":{"line":104,"column":51}},"52":{"start":{"line":107,"column":12},"end":{"line":107,"column":64}},"53":{"start":{"line":111,"column":12},"end":{"line":111,"column":35}},"54":{"start":{"line":117,"column":2},"end":{"line":119,"column":4}},"55":{"start":{"line":118,"column":4},"end":{"line":118,"column":39}},"56":{"start":{"line":122,"column":0},"end":{"line":187,"column":4}},"57":{"start":{"line":123,"column":14},"end":{"line":182,"column":5}},"58":{"start":{"line":125,"column":4},"end":{"line":181,"column":34}},"59":{"start":{"line":126,"column":6},"end":{"line":180,"column":7}},"60":{"start":{"line":127,"column":8},"end":{"line":179,"column":9}},"61":{"start":{"line":129,"column":12},"end":{"line":129,"column":103}},"62":{"start":{"line":130,"column":12},"end":{"line":130,"column":57}},"63":{"start":{"line":131,"column":12},"end":{"line":131,"column":125}},"64":{"start":{"line":132,"column":12},"end":{"line":132,"column":31}},"65":{"start":{"line":133,"column":12},"end":{"line":133,"column":59}},"66":{"start":{"line":136,"column":12},"end":{"line":136,"column":51}},"67":{"start":{"line":137,"column":12},"end":{"line":137,"column":31}},"68":{"start":{"line":138,"column":12},"end":{"line":138,"column":166}},"69":{"start":{"line":139,"column":12},"end":{"line":146,"column":14}},"70":{"start":{"line":147,"column":12},"end":{"line":147,"column":32}},"71":{"start":{"line":148,"column":12},"end":{"line":148,"column":73}},"72":{"start":{"line":151,"column":12},"end":{"line":151,"column":32}},"73":{"start":{"line":152,"column":12},"end":{"line":152,"column":62}},"74":{"start":{"line":155,"column":12},"end":{"line":155,"column":37}},"75":{"start":{"line":156,"column":12},"end":{"line":156,"column":32}},"76":{"start":{"line":157,"column":12},"end":{"line":157,"column":90}},"77":{"start":{"line":160,"column":12},"end":{"line":160,"column":38}},"78":{"start":{"line":161,"column":12},"end":{"line":161,"column":32}},"79":{"start":{"line":162,"column":12},"end":{"line":162,"column":145}},"80":{"start":{"line":165,"column":12},"end":{"line":165,"column":43}},"81":{"start":{"line":166,"column":12},"end":{"line":166,"column":33}},"82":{"start":{"line":167,"column":12},"end":{"line":167,"column":84}},"83":{"start":{"line":170,"column":12},"end":{"line":170,"column":32}},"84":{"start":{"line":171,"column":12},"end":{"line":171,"column":49}},"85":{"start":{"line":172,"column":12},"end":{"line":172,"column":85}},"86":{"start":{"line":173,"column":12},"end":{"line":173,"column":33}},"87":{"start":{"line":174,"column":12},"end":{"line":174,"column":52}},"88":{"start":{"line":178,"column":12},"end":{"line":178,"column":36}},"89":{"start":{"line":184,"column":2},"end":{"line":186,"column":4}},"90":{"start":{"line":185,"column":4},"end":{"line":185,"column":40}}},"fnMap":{"0":{"name":"verifyToken","decl":{"start":{"line":23,"column":31},"end":{"line":23,"column":42}},"loc":{"start":{"line":23,"column":79},"end":{"line":53,"column":1}},"line":23},"1":{"name":"sendError","decl":{"start":{"line":24,"column":11},"end":{"line":24,"column":20}},"loc":{"start":{"line":24,"column":23},"end":{"line":31,"column":3}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":65},"end":{"line":36,"column":66}},"loc":{"start":{"line":36,"column":108},"end":{"line":49,"column":5}},"line":36},"3":{"name":"issueToken","decl":{"start":{"line":55,"column":30},"end":{"line":55,"column":40}},"loc":{"start":{"line":55,"column":51},"end":{"line":62,"column":1}},"line":55},"4":{"name":"(anonymous_4)","decl":{"start":{"line":64,"column":31},"end":{"line":64,"column":32}},"loc":{"start":{"line":64,"column":49},"end":{"line":67,"column":1}},"line":64},"5":{"name":"(anonymous_5)","decl":{"start":{"line":69,"column":32},"end":{"line":69,"column":33}},"loc":{"start":{"line":69,"column":50},"end":{"line":72,"column":1}},"line":69},"6":{"name":"(anonymous_6)","decl":{"start":{"line":74,"column":24},"end":{"line":74,"column":25}},"loc":{"start":{"line":74,"column":42},"end":{"line":77,"column":1}},"line":74},"7":{"name":"(anonymous_7)","decl":{"start":{"line":79,"column":40},"end":{"line":79,"column":41}},"loc":{"start":{"line":79,"column":52},"end":{"line":120,"column":1}},"line":79},"8":{"name":"_callee","decl":{"start":{"line":80,"column":100},"end":{"line":80,"column":107}},"loc":{"start":{"line":80,"column":115},"end":{"line":115,"column":3}},"line":80},"9":{"name":"_callee$","decl":{"start":{"line":82,"column":49},"end":{"line":82,"column":57}},"loc":{"start":{"line":82,"column":68},"end":{"line":114,"column":5}},"line":82},"10":{"name":"(anonymous_10)","decl":{"start":{"line":117,"column":9},"end":{"line":117,"column":10}},"loc":{"start":{"line":117,"column":23},"end":{"line":119,"column":3}},"line":117},"11":{"name":"(anonymous_11)","decl":{"start":{"line":122,"column":39},"end":{"line":122,"column":40}},"loc":{"start":{"line":122,"column":51},"end":{"line":187,"column":1}},"line":122},"12":{"name":"_callee2","decl":{"start":{"line":123,"column":101},"end":{"line":123,"column":109}},"loc":{"start":{"line":123,"column":117},"end":{"line":182,"column":3}},"line":123},"13":{"name":"_callee2$","decl":{"start":{"line":125,"column":49},"end":{"line":125,"column":58}},"loc":{"start":{"line":125,"column":70},"end":{"line":181,"column":5}},"line":125},"14":{"name":"(anonymous_14)","decl":{"start":{"line":184,"column":9},"end":{"line":184,"column":10}},"loc":{"start":{"line":184,"column":24},"end":{"line":186,"column":3}},"line":184}},"branchMap":{"0":{"loc":{"start":{"line":33,"column":2},"end":{"line":50,"column":3}},"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":50,"column":3}},{"start":{"line":33,"column":2},"end":{"line":50,"column":3}}],"line":33},"1":{"loc":{"start":{"line":33,"column":6},"end":{"line":33,"column":45}},"type":"binary-expr","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":11}},{"start":{"line":33,"column":15},"end":{"line":33,"column":45}}],"line":33},"2":{"loc":{"start":{"line":37,"column":6},"end":{"line":46,"column":7}},"type":"if","locations":[{"start":{"line":37,"column":6},"end":{"line":46,"column":7}},{"start":{"line":37,"column":6},"end":{"line":46,"column":7}}],"line":37},"3":{"loc":{"start":{"line":37,"column":10},"end":{"line":37,"column":52}},"type":"binary-expr","locations":[{"start":{"line":37,"column":10},"end":{"line":37,"column":36}},{"start":{"line":37,"column":40},"end":{"line":37,"column":52}}],"line":37},"4":{"loc":{"start":{"line":40,"column":8},"end":{"line":43,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":43,"column":9}},{"start":{"line":40,"column":8},"end":{"line":43,"column":9}}],"line":40},"5":{"loc":{"start":{"line":66,"column":9},"end":{"line":66,"column":113}},"type":"binary-expr","locations":[{"start":{"line":66,"column":9},"end":{"line":66,"column":61}},{"start":{"line":66,"column":65},"end":{"line":66,"column":113}}],"line":66},"6":{"loc":{"start":{"line":71,"column":9},"end":{"line":71,"column":115}},"type":"binary-expr","locations":[{"start":{"line":71,"column":9},"end":{"line":71,"column":62}},{"start":{"line":71,"column":66},"end":{"line":71,"column":115}}],"line":71},"7":{"loc":{"start":{"line":76,"column":9},"end":{"line":76,"column":115}},"type":"binary-expr","locations":[{"start":{"line":76,"column":9},"end":{"line":76,"column":62}},{"start":{"line":76,"column":66},"end":{"line":76,"column":115}}],"line":76},"8":{"loc":{"start":{"line":84,"column":8},"end":{"line":112,"column":9}},"type":"switch","locations":[{"start":{"line":85,"column":10},"end":{"line":94,"column":99}},{"start":{"line":96,"column":10},"end":{"line":99,"column":18}},{"start":{"line":101,"column":10},"end":{"line":104,"column":51}},{"start":{"line":106,"column":10},"end":{"line":107,"column":64}},{"start":{"line":109,"column":10},"end":{"line":109,"column":18}},{"start":{"line":110,"column":10},"end":{"line":111,"column":35}}],"line":84},"9":{"loc":{"start":{"line":86,"column":12},"end":{"line":89,"column":13}},"type":"if","locations":[{"start":{"line":86,"column":12},"end":{"line":89,"column":13}},{"start":{"line":86,"column":12},"end":{"line":89,"column":13}}],"line":86},"10":{"loc":{"start":{"line":86,"column":18},"end":{"line":86,"column":57}},"type":"binary-expr","locations":[{"start":{"line":86,"column":18},"end":{"line":86,"column":23}},{"start":{"line":86,"column":27},"end":{"line":86,"column":57}}],"line":86},"11":{"loc":{"start":{"line":127,"column":8},"end":{"line":179,"column":9}},"type":"switch","locations":[{"start":{"line":128,"column":10},"end":{"line":133,"column":59}},{"start":{"line":135,"column":10},"end":{"line":148,"column":73}},{"start":{"line":150,"column":10},"end":{"line":152,"column":62}},{"start":{"line":154,"column":10},"end":{"line":157,"column":90}},{"start":{"line":159,"column":10},"end":{"line":162,"column":145}},{"start":{"line":164,"column":10},"end":{"line":167,"column":84}},{"start":{"line":169,"column":10},"end":{"line":174,"column":52}},{"start":{"line":176,"column":10},"end":{"line":176,"column":18}},{"start":{"line":177,"column":10},"end":{"line":178,"column":36}}],"line":127}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1,"26":8,"27":8,"28":1,"29":8,"30":8,"31":1,"32":9,"33":9,"34":1,"35":1,"36":10,"37":30,"38":40,"39":10,"40":0,"41":0,"42":10,"43":10,"44":10,"45":10,"46":10,"47":10,"48":10,"49":0,"50":0,"51":0,"52":10,"53":10,"54":1,"55":10,"56":1,"57":1,"58":8,"59":56,"60":56,"61":8,"62":8,"63":8,"64":8,"65":8,"66":8,"67":8,"68":8,"69":8,"70":8,"71":8,"72":8,"73":8,"74":8,"75":8,"76":8,"77":8,"78":8,"79":8,"80":8,"81":8,"82":8,"83":0,"84":0,"85":0,"86":0,"87":0,"88":8,"89":1,"90":8},"f":{"0":0,"1":0,"2":0,"3":0,"4":8,"5":8,"6":9,"7":1,"8":10,"9":30,"10":10,"11":1,"12":8,"13":56,"14":8},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[8,8],"6":[8,8],"7":[9,9],"8":[10,10,0,10,0,10],"9":[0,10],"10":[10,10],"11":[8,8,8,8,8,8,0,0,8]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["issuer","exports","verifyToken","req","authOrSecDef","token","callback","sendError","code","payload","message","indexOf","tokenString","split","jwt","verify","verificationError","decodedToken","issuerMatch","auth","issueToken","username","sign","name","expiresIn","validationPrivateKey","string","privateKey","toString","trim","startsWith","endsWith","validationCertificate","certificate","validationCSR","csr","getUserFromToken","data","sendTransaction","identity","transaction","networkOptions","network","wallet","InMemoryWallet","mixin","X509WalletMixin","createIdentity","mspId","label","gateway","Gateway","connectionProfile","yaml","safeLoad","fs","readFileSync","path","resolve","__dirname","process","env","FABRIC_CONFIG_FILE","connectionOptions","discovery","enabled","asLocalhost","connect","getNetwork","channel","getContract","chaincode","contract","submitTransaction","props","issueResponse","disconnect","JSON","parse","console","log","stack"],"mappings":"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","sourceRoot":"/app/src/helpers/","sourcesContent":["import fs from 'fs';\nimport { Gateway, InMemoryWallet, X509WalletMixin } from 'fabric-network';\nimport jwt from 'jsonwebtoken';\nimport yaml from 'js-yaml';\nimport path from 'path';\n\nconst issuer = '482solutions';\n\n\nexports.verifyToken = function verifyToken(req, authOrSecDef, token, callback) {\n  function sendError() {\n    return { code: 404, payload: { message: 'Invalid token supplied.' } };\n  }\n\n  if (token && token.indexOf('Bearer ') === 0) {\n    const tokenString = token.split(' ')[1];\n    jwt.verify(tokenString, '482solutions', (verificationError, decodedToken) => {\n      if (verificationError === null && decodedToken) {\n        const issuerMatch = decodedToken.issuer === issuer;\n        if (issuerMatch) {\n          req.auth = decodedToken;\n          return callback(null);\n        }\n        return callback(sendError());\n      }\n      return callback(sendError());\n    });\n  }\n  return callback(sendError());\n};\n\nexports.issueToken = function issueToken(username) {\n  return jwt.sign({ name: username, issuer }, '482solutions', { expiresIn: '1h' });\n};\n\nexports.validationPrivateKey = (string) => {\n  const privateKey = string.toString().trim();\n  return privateKey.startsWith('-----BEGIN PRIVATE KEY-----') && privateKey.endsWith('-----END PRIVATE KEY-----');\n};\nexports.validationCertificate = (string) => {\n  const certificate = string.toString().trim();\n  return certificate.startsWith('-----BEGIN CERTIFICATE-----') && certificate.endsWith('-----END CERTIFICATE-----');\n};\nexports.validationCSR = (string) => {\n  const csr = string.toString().trim();\n  return csr.startsWith('-----BEGIN CERTIFICATE REQUEST-----') && csr.endsWith('-----END CERTIFICATE REQUEST-----');\n};\n\nexports.getUserFromToken = async(token) => {\n  let decodedToken;\n  if (token && token.indexOf('Bearer ') === 0) {\n    const tokenString = token.split(' ')[1];\n    try {\n      decodedToken = await jwt.verify(tokenString, '482solutions'.toString('base64'));\n    } catch (e) {\n      return null;\n    }\n  }\n  return decodedToken.data;\n};\n\nexports.sendTransaction = async({ identity, transaction, network: networkOptions }) => {\n  const wallet = new InMemoryWallet();\n  const mixin = X509WalletMixin.createIdentity(\n    identity.mspId,\n    identity.certificate,\n    identity.privateKey,\n  );\n  await wallet.import(identity.label, mixin);\n  const gateway = new Gateway();\n  try {\n    const connectionProfile = yaml.safeLoad(\n      fs.readFileSync(path.resolve(__dirname, process.env.FABRIC_CONFIG_FILE), 'utf8'),\n    );\n    const connectionOptions = {\n      identity: identity.label,\n      wallet,\n      discovery: { enabled: false, asLocalhost: true },\n    };\n    await gateway.connect(connectionProfile, connectionOptions);\n    const network = await gateway.getNetwork(networkOptions.channel);\n    const contract = await network.getContract(networkOptions.chaincode, networkOptions.contract);\n    const issueResponse = await contract.submitTransaction(transaction.name, ...transaction.props);\n    gateway.disconnect();\n    return JSON.parse(issueResponse.toString());\n  } catch (error) {\n    console.log(`Error processing transaction. ${error.stack}`);\n    gateway.disconnect();\n    return null;\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"42fa23680a52858bddc01930327558706d123ffa","contentHash":"08eea8ab1a7be170450f768613c6f1c752748ca6854cfb2f0aea950b673f661d"},"/app/src/database/configDB.js":{"path":"/app/src/database/configDB.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":9,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["configDB.js"],"names":["module","exports","user","process","env","POSTGRES_USER","host","DATABASE_HOST","database","POSTGRES_DB","password","POSTGRES_PASSWORD","port","DATABASE_PORT"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,aADH;AAEfC,EAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG,aAFH;AAGfC,EAAAA,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,WAHP;AAIfC,EAAAA,QAAQ,EAAEP,OAAO,CAACC,GAAR,CAAYO,iBAJP;AAKfC,EAAAA,IAAI,EAAET,OAAO,CAACC,GAAR,CAAYS;AALH,CAAjB","sourceRoot":"/app/src/database/","sourcesContent":["module.exports = {\n  user: process.env.POSTGRES_USER,\n  host: process.env.DATABASE_HOST,\n  database: process.env.POSTGRES_DB,\n  password: process.env.POSTGRES_PASSWORD,\n  port: process.env.DATABASE_PORT,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6b5a78d36ccde22162c4c5be4d6cb7f419fe18c5","contentHash":"b3017f07d7e436a3c4cf9a5e427b763b70c14c39982316fbdbfee7085be529b7"},"/app/src/database/connect.js":{"path":"/app/src/database/connect.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":10},"end":{"line":5,"column":47}},"2":{"start":{"line":7,"column":16},"end":{"line":7,"column":61}},"3":{"start":{"line":9,"column":11},"end":{"line":9,"column":56}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":15}},"5":{"start":{"line":12,"column":0},"end":{"line":14,"column":2}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":17},"end":{"line":12,"column":18}},"loc":{"start":{"line":12,"column":29},"end":{"line":14,"column":1}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3},"f":{"0":3},"b":{},"inputSourceMap":{"version":3,"sources":["connect.js"],"names":["pool","pg","Pool","configDB","connect","module","exports"],"mappings":";;;;AAAA;;AACA;;AAEA,IAAMA,IAAI,GAAG,IAAIC,eAAGC,IAAP,CAAYC,oBAAZ,CAAb;AACAH,IAAI,CAACI,OAAL;;AACAC,MAAM,CAACC,OAAP,GAAiB;AAAA,SAAMN,IAAN;AAAA,CAAjB","sourceRoot":"/app/src/database/","sourcesContent":["import pg from 'pg';\nimport configDB from './configDB';\n\nconst pool = new pg.Pool(configDB);\npool.connect();\nmodule.exports = () => pool;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e1b9f578262828ae4735ac68a3e20ccb7d3ecd37","contentHash":"670ba0ffb4b9fdcb7918e1aea64f1160b944a10c2d653c52c3175b7bbcca609b"},"/app/src/database/utils.js":{"path":"/app/src/database/utils.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":25},"end":{"line":7,"column":99}},"3":{"start":{"line":9,"column":13},"end":{"line":9,"column":55}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"5":{"start":{"line":13,"column":0},"end":{"line":40,"column":4}},"6":{"start":{"line":14,"column":17},"end":{"line":33,"column":5}},"7":{"start":{"line":16,"column":4},"end":{"line":32,"column":16}},"8":{"start":{"line":17,"column":6},"end":{"line":31,"column":7}},"9":{"start":{"line":18,"column":8},"end":{"line":30,"column":9}},"10":{"start":{"line":20,"column":12},"end":{"line":20,"column":30}},"11":{"start":{"line":21,"column":12},"end":{"line":21,"column":115}},"12":{"start":{"line":24,"column":12},"end":{"line":24,"column":35}},"13":{"start":{"line":25,"column":12},"end":{"line":25,"column":58}},"14":{"start":{"line":29,"column":12},"end":{"line":29,"column":35}},"15":{"start":{"line":36,"column":4},"end":{"line":36,"column":43}},"16":{"start":{"line":39,"column":2},"end":{"line":39,"column":17}},"17":{"start":{"line":42,"column":0},"end":{"line":69,"column":4}},"18":{"start":{"line":43,"column":18},"end":{"line":62,"column":5}},"19":{"start":{"line":45,"column":4},"end":{"line":61,"column":17}},"20":{"start":{"line":46,"column":6},"end":{"line":60,"column":7}},"21":{"start":{"line":47,"column":8},"end":{"line":59,"column":9}},"22":{"start":{"line":49,"column":12},"end":{"line":49,"column":31}},"23":{"start":{"line":50,"column":12},"end":{"line":50,"column":113}},"24":{"start":{"line":53,"column":12},"end":{"line":53,"column":36}},"25":{"start":{"line":54,"column":12},"end":{"line":54,"column":59}},"26":{"start":{"line":58,"column":12},"end":{"line":58,"column":36}},"27":{"start":{"line":65,"column":4},"end":{"line":65,"column":44}},"28":{"start":{"line":68,"column":2},"end":{"line":68,"column":17}},"29":{"start":{"line":71,"column":0},"end":{"line":98,"column":4}},"30":{"start":{"line":72,"column":19},"end":{"line":91,"column":5}},"31":{"start":{"line":74,"column":4},"end":{"line":90,"column":17}},"32":{"start":{"line":75,"column":6},"end":{"line":89,"column":7}},"33":{"start":{"line":76,"column":8},"end":{"line":88,"column":9}},"34":{"start":{"line":78,"column":12},"end":{"line":78,"column":31}},"35":{"start":{"line":79,"column":12},"end":{"line":79,"column":113}},"36":{"start":{"line":82,"column":12},"end":{"line":82,"column":36}},"37":{"start":{"line":83,"column":12},"end":{"line":83,"column":59}},"38":{"start":{"line":87,"column":12},"end":{"line":87,"column":36}},"39":{"start":{"line":94,"column":4},"end":{"line":94,"column":45}},"40":{"start":{"line":97,"column":2},"end":{"line":97,"column":19}},"41":{"start":{"line":100,"column":0},"end":{"line":127,"column":4}},"42":{"start":{"line":101,"column":17},"end":{"line":120,"column":5}},"43":{"start":{"line":103,"column":4},"end":{"line":119,"column":17}},"44":{"start":{"line":104,"column":6},"end":{"line":118,"column":7}},"45":{"start":{"line":105,"column":8},"end":{"line":117,"column":9}},"46":{"start":{"line":107,"column":12},"end":{"line":107,"column":31}},"47":{"start":{"line":108,"column":12},"end":{"line":108,"column":111}},"48":{"start":{"line":111,"column":12},"end":{"line":111,"column":36}},"49":{"start":{"line":112,"column":12},"end":{"line":112,"column":59}},"50":{"start":{"line":116,"column":12},"end":{"line":116,"column":36}},"51":{"start":{"line":123,"column":4},"end":{"line":123,"column":43}},"52":{"start":{"line":126,"column":2},"end":{"line":126,"column":17}},"53":{"start":{"line":129,"column":0},"end":{"line":156,"column":4}},"54":{"start":{"line":130,"column":25},"end":{"line":149,"column":5}},"55":{"start":{"line":132,"column":4},"end":{"line":148,"column":17}},"56":{"start":{"line":133,"column":6},"end":{"line":147,"column":7}},"57":{"start":{"line":134,"column":8},"end":{"line":146,"column":9}},"58":{"start":{"line":136,"column":12},"end":{"line":136,"column":31}},"59":{"start":{"line":137,"column":12},"end":{"line":137,"column":113}},"60":{"start":{"line":140,"column":12},"end":{"line":140,"column":36}},"61":{"start":{"line":141,"column":12},"end":{"line":141,"column":59}},"62":{"start":{"line":145,"column":12},"end":{"line":145,"column":36}},"63":{"start":{"line":152,"column":4},"end":{"line":152,"column":51}},"64":{"start":{"line":155,"column":2},"end":{"line":155,"column":25}},"65":{"start":{"line":158,"column":0},"end":{"line":185,"column":4}},"66":{"start":{"line":159,"column":23},"end":{"line":178,"column":5}},"67":{"start":{"line":161,"column":4},"end":{"line":177,"column":17}},"68":{"start":{"line":162,"column":6},"end":{"line":176,"column":7}},"69":{"start":{"line":163,"column":8},"end":{"line":175,"column":9}},"70":{"start":{"line":165,"column":12},"end":{"line":165,"column":31}},"71":{"start":{"line":166,"column":12},"end":{"line":166,"column":111}},"72":{"start":{"line":169,"column":12},"end":{"line":169,"column":36}},"73":{"start":{"line":170,"column":12},"end":{"line":170,"column":59}},"74":{"start":{"line":174,"column":12},"end":{"line":174,"column":36}},"75":{"start":{"line":181,"column":4},"end":{"line":181,"column":49}},"76":{"start":{"line":184,"column":2},"end":{"line":184,"column":23}},"77":{"start":{"line":187,"column":0},"end":{"line":214,"column":4}},"78":{"start":{"line":188,"column":18},"end":{"line":207,"column":5}},"79":{"start":{"line":190,"column":4},"end":{"line":206,"column":17}},"80":{"start":{"line":191,"column":6},"end":{"line":205,"column":7}},"81":{"start":{"line":192,"column":8},"end":{"line":204,"column":9}},"82":{"start":{"line":194,"column":12},"end":{"line":194,"column":31}},"83":{"start":{"line":195,"column":12},"end":{"line":195,"column":118}},"84":{"start":{"line":198,"column":12},"end":{"line":198,"column":36}},"85":{"start":{"line":199,"column":12},"end":{"line":199,"column":59}},"86":{"start":{"line":203,"column":12},"end":{"line":203,"column":36}},"87":{"start":{"line":210,"column":4},"end":{"line":210,"column":44}},"88":{"start":{"line":213,"column":2},"end":{"line":213,"column":18}},"89":{"start":{"line":216,"column":0},"end":{"line":241,"column":4}},"90":{"start":{"line":217,"column":20},"end":{"line":234,"column":5}},"91":{"start":{"line":218,"column":4},"end":{"line":233,"column":17}},"92":{"start":{"line":219,"column":6},"end":{"line":232,"column":7}},"93":{"start":{"line":220,"column":8},"end":{"line":231,"column":9}},"94":{"start":{"line":222,"column":12},"end":{"line":222,"column":31}},"95":{"start":{"line":223,"column":12},"end":{"line":223,"column":208}},"96":{"start":{"line":226,"column":12},"end":{"line":226,"column":52}},"97":{"start":{"line":230,"column":12},"end":{"line":230,"column":36}},"98":{"start":{"line":237,"column":4},"end":{"line":237,"column":46}},"99":{"start":{"line":240,"column":2},"end":{"line":240,"column":20}},"100":{"start":{"line":243,"column":0},"end":{"line":268,"column":4}},"101":{"start":{"line":244,"column":22},"end":{"line":261,"column":5}},"102":{"start":{"line":245,"column":4},"end":{"line":260,"column":17}},"103":{"start":{"line":246,"column":6},"end":{"line":259,"column":7}},"104":{"start":{"line":247,"column":8},"end":{"line":258,"column":9}},"105":{"start":{"line":249,"column":12},"end":{"line":249,"column":31}},"106":{"start":{"line":250,"column":12},"end":{"line":250,"column":210}},"107":{"start":{"line":253,"column":12},"end":{"line":253,"column":52}},"108":{"start":{"line":257,"column":12},"end":{"line":257,"column":36}},"109":{"start":{"line":264,"column":4},"end":{"line":264,"column":48}},"110":{"start":{"line":267,"column":2},"end":{"line":267,"column":22}},"111":{"start":{"line":270,"column":0},"end":{"line":295,"column":4}},"112":{"start":{"line":271,"column":20},"end":{"line":288,"column":5}},"113":{"start":{"line":272,"column":4},"end":{"line":287,"column":18}},"114":{"start":{"line":273,"column":6},"end":{"line":286,"column":7}},"115":{"start":{"line":274,"column":8},"end":{"line":285,"column":9}},"116":{"start":{"line":276,"column":12},"end":{"line":276,"column":32}},"117":{"start":{"line":277,"column":12},"end":{"line":277,"column":207}},"118":{"start":{"line":280,"column":12},"end":{"line":280,"column":53}},"119":{"start":{"line":284,"column":12},"end":{"line":284,"column":37}},"120":{"start":{"line":291,"column":4},"end":{"line":291,"column":46}},"121":{"start":{"line":294,"column":2},"end":{"line":294,"column":20}},"122":{"start":{"line":297,"column":0},"end":{"line":322,"column":4}},"123":{"start":{"line":298,"column":24},"end":{"line":315,"column":5}},"124":{"start":{"line":299,"column":4},"end":{"line":314,"column":18}},"125":{"start":{"line":300,"column":6},"end":{"line":313,"column":7}},"126":{"start":{"line":301,"column":8},"end":{"line":312,"column":9}},"127":{"start":{"line":303,"column":12},"end":{"line":303,"column":32}},"128":{"start":{"line":304,"column":12},"end":{"line":304,"column":143}},"129":{"start":{"line":307,"column":12},"end":{"line":307,"column":53}},"130":{"start":{"line":311,"column":12},"end":{"line":311,"column":37}},"131":{"start":{"line":318,"column":4},"end":{"line":318,"column":50}},"132":{"start":{"line":321,"column":2},"end":{"line":321,"column":24}},"133":{"start":{"line":324,"column":0},"end":{"line":349,"column":4}},"134":{"start":{"line":325,"column":20},"end":{"line":342,"column":5}},"135":{"start":{"line":326,"column":4},"end":{"line":341,"column":18}},"136":{"start":{"line":327,"column":6},"end":{"line":340,"column":7}},"137":{"start":{"line":328,"column":8},"end":{"line":339,"column":9}},"138":{"start":{"line":330,"column":12},"end":{"line":330,"column":32}},"139":{"start":{"line":331,"column":12},"end":{"line":331,"column":153}},"140":{"start":{"line":334,"column":12},"end":{"line":334,"column":53}},"141":{"start":{"line":338,"column":12},"end":{"line":338,"column":37}},"142":{"start":{"line":345,"column":4},"end":{"line":345,"column":46}},"143":{"start":{"line":348,"column":2},"end":{"line":348,"column":20}},"144":{"start":{"line":351,"column":0},"end":{"line":376,"column":4}},"145":{"start":{"line":352,"column":22},"end":{"line":369,"column":5}},"146":{"start":{"line":353,"column":4},"end":{"line":368,"column":18}},"147":{"start":{"line":354,"column":6},"end":{"line":367,"column":7}},"148":{"start":{"line":355,"column":8},"end":{"line":366,"column":9}},"149":{"start":{"line":357,"column":12},"end":{"line":357,"column":32}},"150":{"start":{"line":358,"column":12},"end":{"line":358,"column":151}},"151":{"start":{"line":361,"column":12},"end":{"line":361,"column":53}},"152":{"start":{"line":365,"column":12},"end":{"line":365,"column":37}},"153":{"start":{"line":372,"column":4},"end":{"line":372,"column":48}},"154":{"start":{"line":375,"column":2},"end":{"line":375,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":38},"end":{"line":13,"column":39}},"loc":{"start":{"line":13,"column":50},"end":{"line":40,"column":1}},"line":13},"1":{"name":"_callee","decl":{"start":{"line":14,"column":104},"end":{"line":14,"column":111}},"loc":{"start":{"line":14,"column":124},"end":{"line":33,"column":3}},"line":14},"2":{"name":"_callee$","decl":{"start":{"line":16,"column":49},"end":{"line":16,"column":57}},"loc":{"start":{"line":16,"column":68},"end":{"line":32,"column":5}},"line":16},"3":{"name":"getUser","decl":{"start":{"line":35,"column":11},"end":{"line":35,"column":18}},"loc":{"start":{"line":35,"column":28},"end":{"line":37,"column":3}},"line":35},"4":{"name":"(anonymous_4)","decl":{"start":{"line":42,"column":45},"end":{"line":42,"column":46}},"loc":{"start":{"line":42,"column":57},"end":{"line":69,"column":1}},"line":42},"5":{"name":"_callee2","decl":{"start":{"line":43,"column":105},"end":{"line":43,"column":113}},"loc":{"start":{"line":43,"column":127},"end":{"line":62,"column":3}},"line":43},"6":{"name":"_callee2$","decl":{"start":{"line":45,"column":49},"end":{"line":45,"column":58}},"loc":{"start":{"line":45,"column":70},"end":{"line":61,"column":5}},"line":45},"7":{"name":"getUser","decl":{"start":{"line":64,"column":11},"end":{"line":64,"column":18}},"loc":{"start":{"line":64,"column":29},"end":{"line":66,"column":3}},"line":64},"8":{"name":"(anonymous_8)","decl":{"start":{"line":71,"column":40},"end":{"line":71,"column":41}},"loc":{"start":{"line":71,"column":52},"end":{"line":98,"column":1}},"line":71},"9":{"name":"_callee3","decl":{"start":{"line":72,"column":106},"end":{"line":72,"column":114}},"loc":{"start":{"line":72,"column":127},"end":{"line":91,"column":3}},"line":72},"10":{"name":"_callee3$","decl":{"start":{"line":74,"column":49},"end":{"line":74,"column":58}},"loc":{"start":{"line":74,"column":70},"end":{"line":90,"column":5}},"line":74},"11":{"name":"getFolder","decl":{"start":{"line":93,"column":11},"end":{"line":93,"column":20}},"loc":{"start":{"line":93,"column":31},"end":{"line":95,"column":3}},"line":93},"12":{"name":"(anonymous_12)","decl":{"start":{"line":100,"column":38},"end":{"line":100,"column":39}},"loc":{"start":{"line":100,"column":50},"end":{"line":127,"column":1}},"line":100},"13":{"name":"_callee4","decl":{"start":{"line":101,"column":104},"end":{"line":101,"column":112}},"loc":{"start":{"line":101,"column":125},"end":{"line":120,"column":3}},"line":101},"14":{"name":"_callee4$","decl":{"start":{"line":103,"column":49},"end":{"line":103,"column":58}},"loc":{"start":{"line":103,"column":70},"end":{"line":119,"column":5}},"line":103},"15":{"name":"getFile","decl":{"start":{"line":122,"column":11},"end":{"line":122,"column":18}},"loc":{"start":{"line":122,"column":29},"end":{"line":124,"column":3}},"line":122},"16":{"name":"(anonymous_16)","decl":{"start":{"line":129,"column":46},"end":{"line":129,"column":47}},"loc":{"start":{"line":129,"column":58},"end":{"line":156,"column":1}},"line":129},"17":{"name":"_callee5","decl":{"start":{"line":130,"column":112},"end":{"line":130,"column":120}},"loc":{"start":{"line":130,"column":133},"end":{"line":149,"column":3}},"line":130},"18":{"name":"_callee5$","decl":{"start":{"line":132,"column":49},"end":{"line":132,"column":58}},"loc":{"start":{"line":132,"column":70},"end":{"line":148,"column":5}},"line":132},"19":{"name":"getFolderByName","decl":{"start":{"line":151,"column":11},"end":{"line":151,"column":26}},"loc":{"start":{"line":151,"column":38},"end":{"line":153,"column":3}},"line":151},"20":{"name":"(anonymous_20)","decl":{"start":{"line":158,"column":44},"end":{"line":158,"column":45}},"loc":{"start":{"line":158,"column":56},"end":{"line":185,"column":1}},"line":158},"21":{"name":"_callee6","decl":{"start":{"line":159,"column":110},"end":{"line":159,"column":118}},"loc":{"start":{"line":159,"column":131},"end":{"line":178,"column":3}},"line":159},"22":{"name":"_callee6$","decl":{"start":{"line":161,"column":49},"end":{"line":161,"column":58}},"loc":{"start":{"line":161,"column":70},"end":{"line":177,"column":5}},"line":161},"23":{"name":"getFileByName","decl":{"start":{"line":180,"column":11},"end":{"line":180,"column":24}},"loc":{"start":{"line":180,"column":37},"end":{"line":182,"column":3}},"line":180},"24":{"name":"(anonymous_24)","decl":{"start":{"line":187,"column":39},"end":{"line":187,"column":40}},"loc":{"start":{"line":187,"column":51},"end":{"line":214,"column":1}},"line":187},"25":{"name":"_callee7","decl":{"start":{"line":188,"column":105},"end":{"line":188,"column":113}},"loc":{"start":{"line":188,"column":126},"end":{"line":207,"column":3}},"line":188},"26":{"name":"_callee7$","decl":{"start":{"line":190,"column":49},"end":{"line":190,"column":58}},"loc":{"start":{"line":190,"column":70},"end":{"line":206,"column":5}},"line":190},"27":{"name":"getCerts","decl":{"start":{"line":209,"column":11},"end":{"line":209,"column":19}},"loc":{"start":{"line":209,"column":32},"end":{"line":211,"column":3}},"line":209},"28":{"name":"(anonymous_28)","decl":{"start":{"line":216,"column":41},"end":{"line":216,"column":42}},"loc":{"start":{"line":216,"column":53},"end":{"line":241,"column":1}},"line":216},"29":{"name":"_callee8","decl":{"start":{"line":217,"column":107},"end":{"line":217,"column":115}},"loc":{"start":{"line":217,"column":149},"end":{"line":234,"column":3}},"line":217},"30":{"name":"_callee8$","decl":{"start":{"line":218,"column":49},"end":{"line":218,"column":58}},"loc":{"start":{"line":218,"column":70},"end":{"line":233,"column":5}},"line":218},"31":{"name":"insertUser","decl":{"start":{"line":236,"column":11},"end":{"line":236,"column":21}},"loc":{"start":{"line":236,"column":52},"end":{"line":238,"column":3}},"line":236},"32":{"name":"(anonymous_32)","decl":{"start":{"line":243,"column":43},"end":{"line":243,"column":44}},"loc":{"start":{"line":243,"column":55},"end":{"line":268,"column":1}},"line":243},"33":{"name":"_callee9","decl":{"start":{"line":244,"column":109},"end":{"line":244,"column":117}},"loc":{"start":{"line":244,"column":148},"end":{"line":261,"column":3}},"line":244},"34":{"name":"_callee9$","decl":{"start":{"line":245,"column":49},"end":{"line":245,"column":58}},"loc":{"start":{"line":245,"column":70},"end":{"line":260,"column":5}},"line":245},"35":{"name":"insertFolder","decl":{"start":{"line":263,"column":11},"end":{"line":263,"column":23}},"loc":{"start":{"line":263,"column":48},"end":{"line":265,"column":3}},"line":263},"36":{"name":"(anonymous_36)","decl":{"start":{"line":270,"column":41},"end":{"line":270,"column":42}},"loc":{"start":{"line":270,"column":53},"end":{"line":295,"column":1}},"line":270},"37":{"name":"_callee10","decl":{"start":{"line":271,"column":107},"end":{"line":271,"column":116}},"loc":{"start":{"line":271,"column":153},"end":{"line":288,"column":3}},"line":271},"38":{"name":"_callee10$","decl":{"start":{"line":272,"column":49},"end":{"line":272,"column":59}},"loc":{"start":{"line":272,"column":72},"end":{"line":287,"column":5}},"line":272},"39":{"name":"insertFile","decl":{"start":{"line":290,"column":11},"end":{"line":290,"column":21}},"loc":{"start":{"line":290,"column":52},"end":{"line":292,"column":3}},"line":290},"40":{"name":"(anonymous_40)","decl":{"start":{"line":297,"column":45},"end":{"line":297,"column":46}},"loc":{"start":{"line":297,"column":57},"end":{"line":322,"column":1}},"line":297},"41":{"name":"_callee11","decl":{"start":{"line":298,"column":111},"end":{"line":298,"column":120}},"loc":{"start":{"line":298,"column":139},"end":{"line":315,"column":3}},"line":298},"42":{"name":"_callee11$","decl":{"start":{"line":299,"column":49},"end":{"line":299,"column":59}},"loc":{"start":{"line":299,"column":72},"end":{"line":314,"column":5}},"line":299},"43":{"name":"insertCertData","decl":{"start":{"line":317,"column":11},"end":{"line":317,"column":25}},"loc":{"start":{"line":317,"column":44},"end":{"line":319,"column":3}},"line":317},"44":{"name":"(anonymous_44)","decl":{"start":{"line":324,"column":41},"end":{"line":324,"column":42}},"loc":{"start":{"line":324,"column":53},"end":{"line":349,"column":1}},"line":324},"45":{"name":"_callee12","decl":{"start":{"line":325,"column":107},"end":{"line":325,"column":116}},"loc":{"start":{"line":325,"column":141},"end":{"line":342,"column":3}},"line":325},"46":{"name":"_callee12$","decl":{"start":{"line":326,"column":49},"end":{"line":326,"column":59}},"loc":{"start":{"line":326,"column":72},"end":{"line":341,"column":5}},"line":326},"47":{"name":"updateUser","decl":{"start":{"line":344,"column":11},"end":{"line":344,"column":21}},"loc":{"start":{"line":344,"column":46},"end":{"line":346,"column":3}},"line":344},"48":{"name":"(anonymous_48)","decl":{"start":{"line":351,"column":43},"end":{"line":351,"column":44}},"loc":{"start":{"line":351,"column":55},"end":{"line":376,"column":1}},"line":351},"49":{"name":"_callee13","decl":{"start":{"line":352,"column":109},"end":{"line":352,"column":118}},"loc":{"start":{"line":352,"column":143},"end":{"line":369,"column":3}},"line":352},"50":{"name":"_callee13$","decl":{"start":{"line":353,"column":49},"end":{"line":353,"column":59}},"loc":{"start":{"line":353,"column":72},"end":{"line":368,"column":5}},"line":353},"51":{"name":"updateFolder","decl":{"start":{"line":371,"column":11},"end":{"line":371,"column":23}},"loc":{"start":{"line":371,"column":48},"end":{"line":373,"column":3}},"line":371}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":8},"end":{"line":30,"column":9}},"type":"switch","locations":[{"start":{"line":19,"column":10},"end":{"line":21,"column":115}},{"start":{"line":23,"column":10},"end":{"line":25,"column":58}},{"start":{"line":27,"column":10},"end":{"line":27,"column":17}},{"start":{"line":28,"column":10},"end":{"line":29,"column":35}}],"line":18},"1":{"loc":{"start":{"line":47,"column":8},"end":{"line":59,"column":9}},"type":"switch","locations":[{"start":{"line":48,"column":10},"end":{"line":50,"column":113}},{"start":{"line":52,"column":10},"end":{"line":54,"column":59}},{"start":{"line":56,"column":10},"end":{"line":56,"column":17}},{"start":{"line":57,"column":10},"end":{"line":58,"column":36}}],"line":47},"2":{"loc":{"start":{"line":76,"column":8},"end":{"line":88,"column":9}},"type":"switch","locations":[{"start":{"line":77,"column":10},"end":{"line":79,"column":113}},{"start":{"line":81,"column":10},"end":{"line":83,"column":59}},{"start":{"line":85,"column":10},"end":{"line":85,"column":17}},{"start":{"line":86,"column":10},"end":{"line":87,"column":36}}],"line":76},"3":{"loc":{"start":{"line":105,"column":8},"end":{"line":117,"column":9}},"type":"switch","locations":[{"start":{"line":106,"column":10},"end":{"line":108,"column":111}},{"start":{"line":110,"column":10},"end":{"line":112,"column":59}},{"start":{"line":114,"column":10},"end":{"line":114,"column":17}},{"start":{"line":115,"column":10},"end":{"line":116,"column":36}}],"line":105},"4":{"loc":{"start":{"line":134,"column":8},"end":{"line":146,"column":9}},"type":"switch","locations":[{"start":{"line":135,"column":10},"end":{"line":137,"column":113}},{"start":{"line":139,"column":10},"end":{"line":141,"column":59}},{"start":{"line":143,"column":10},"end":{"line":143,"column":17}},{"start":{"line":144,"column":10},"end":{"line":145,"column":36}}],"line":134},"5":{"loc":{"start":{"line":163,"column":8},"end":{"line":175,"column":9}},"type":"switch","locations":[{"start":{"line":164,"column":10},"end":{"line":166,"column":111}},{"start":{"line":168,"column":10},"end":{"line":170,"column":59}},{"start":{"line":172,"column":10},"end":{"line":172,"column":17}},{"start":{"line":173,"column":10},"end":{"line":174,"column":36}}],"line":163},"6":{"loc":{"start":{"line":192,"column":8},"end":{"line":204,"column":9}},"type":"switch","locations":[{"start":{"line":193,"column":10},"end":{"line":195,"column":118}},{"start":{"line":197,"column":10},"end":{"line":199,"column":59}},{"start":{"line":201,"column":10},"end":{"line":201,"column":17}},{"start":{"line":202,"column":10},"end":{"line":203,"column":36}}],"line":192},"7":{"loc":{"start":{"line":220,"column":8},"end":{"line":231,"column":9}},"type":"switch","locations":[{"start":{"line":221,"column":10},"end":{"line":223,"column":208}},{"start":{"line":225,"column":10},"end":{"line":226,"column":52}},{"start":{"line":228,"column":10},"end":{"line":228,"column":17}},{"start":{"line":229,"column":10},"end":{"line":230,"column":36}}],"line":220},"8":{"loc":{"start":{"line":247,"column":8},"end":{"line":258,"column":9}},"type":"switch","locations":[{"start":{"line":248,"column":10},"end":{"line":250,"column":210}},{"start":{"line":252,"column":10},"end":{"line":253,"column":52}},{"start":{"line":255,"column":10},"end":{"line":255,"column":17}},{"start":{"line":256,"column":10},"end":{"line":257,"column":36}}],"line":247},"9":{"loc":{"start":{"line":274,"column":8},"end":{"line":285,"column":9}},"type":"switch","locations":[{"start":{"line":275,"column":10},"end":{"line":277,"column":207}},{"start":{"line":279,"column":10},"end":{"line":280,"column":53}},{"start":{"line":282,"column":10},"end":{"line":282,"column":17}},{"start":{"line":283,"column":10},"end":{"line":284,"column":37}}],"line":274},"10":{"loc":{"start":{"line":301,"column":8},"end":{"line":312,"column":9}},"type":"switch","locations":[{"start":{"line":302,"column":10},"end":{"line":304,"column":143}},{"start":{"line":306,"column":10},"end":{"line":307,"column":53}},{"start":{"line":309,"column":10},"end":{"line":309,"column":17}},{"start":{"line":310,"column":10},"end":{"line":311,"column":37}}],"line":301},"11":{"loc":{"start":{"line":328,"column":8},"end":{"line":339,"column":9}},"type":"switch","locations":[{"start":{"line":329,"column":10},"end":{"line":331,"column":153}},{"start":{"line":333,"column":10},"end":{"line":334,"column":53}},{"start":{"line":336,"column":10},"end":{"line":336,"column":17}},{"start":{"line":337,"column":10},"end":{"line":338,"column":37}}],"line":328},"12":{"loc":{"start":{"line":355,"column":8},"end":{"line":366,"column":9}},"type":"switch","locations":[{"start":{"line":356,"column":10},"end":{"line":358,"column":151}},{"start":{"line":360,"column":10},"end":{"line":361,"column":53}},{"start":{"line":363,"column":10},"end":{"line":363,"column":17}},{"start":{"line":364,"column":10},"end":{"line":365,"column":37}}],"line":355}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":20,"8":60,"9":60,"10":20,"11":20,"12":20,"13":20,"14":20,"15":20,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":1,"31":11,"32":33,"33":33,"34":11,"35":11,"36":11,"37":11,"38":11,"39":11,"40":1,"41":1,"42":1,"43":1,"44":3,"45":3,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":3,"56":9,"57":9,"58":3,"59":3,"60":3,"61":3,"62":3,"63":3,"64":1,"65":1,"66":1,"67":3,"68":9,"69":9,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":1,"77":1,"78":1,"79":8,"80":24,"81":24,"82":8,"83":8,"84":8,"85":8,"86":8,"87":8,"88":1,"89":1,"90":1,"91":9,"92":27,"93":27,"94":9,"95":9,"96":9,"97":9,"98":9,"99":1,"100":1,"101":1,"102":12,"103":36,"104":36,"105":12,"106":12,"107":12,"108":12,"109":12,"110":1,"111":1,"112":1,"113":2,"114":6,"115":6,"116":2,"117":2,"118":2,"119":2,"120":2,"121":1,"122":1,"123":1,"124":9,"125":27,"126":27,"127":9,"128":9,"129":9,"130":9,"131":9,"132":1,"133":1,"134":1,"135":1,"136":3,"137":3,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":5,"147":15,"148":15,"149":5,"150":5,"151":5,"152":5,"153":5,"154":1},"f":{"0":1,"1":20,"2":60,"3":20,"4":1,"5":0,"6":0,"7":0,"8":1,"9":11,"10":33,"11":11,"12":1,"13":1,"14":3,"15":1,"16":1,"17":3,"18":9,"19":3,"20":1,"21":3,"22":9,"23":3,"24":1,"25":8,"26":24,"27":8,"28":1,"29":9,"30":27,"31":9,"32":1,"33":12,"34":36,"35":12,"36":1,"37":2,"38":6,"39":2,"40":1,"41":9,"42":27,"43":9,"44":1,"45":1,"46":3,"47":1,"48":1,"49":5,"50":15,"51":5},"b":{"0":[20,20,0,20],"1":[0,0,0,0],"2":[11,11,0,11],"3":[1,1,0,1],"4":[3,3,0,3],"5":[3,3,0,3],"6":[8,8,0,8],"7":[9,9,0,9],"8":[12,12,0,12],"9":[2,2,0,2],"10":[9,9,0,9],"11":[1,1,0,1],"12":[5,5,0,5]},"inputSourceMap":{"version":3,"sources":["utils.js"],"names":["module","exports","query","getUser","conn","name","result","rows","getUserByEmail","email","getFolder","hash","getFile","getFolderByName","getFileByName","getCerts","insertUser","pass","folder","insertFolder","parentHash","insertFile","type","insertCertData","cert","updateUser","col","value","updateFolder"],"mappings":"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","sourceRoot":"/app/src/database/","sourcesContent":["import query from './query';\n\nmodule.exports.query = query;\n\nmodule.exports.getUser = async function getUser(conn, name) {\n  const result = await query(conn, `SELECT * FROM public.Users WHERE username = '${name}'`);\n  return result.rows;\n};\nmodule.exports.getUserByEmail = async function getUser(conn, email) {\n  const result = await query(conn, `SELECT * FROM public.Users WHERE email = '${email}'`);\n  return result.rows;\n};\n\nmodule.exports.getFolder = async function getFolder(conn, hash) {\n  const result = await query(conn, `SELECT * FROM public.Folders WHERE hash = '${hash}'`);\n  return result.rows;\n};\n\nmodule.exports.getFile = async function getFile(conn, hash) {\n  const result = await query(conn, `SELECT * FROM public.Files WHERE hash = '${hash}'`);\n  return result.rows;\n};\n\nmodule.exports.getFolderByName = async function getFolderByName(conn, name) {\n  const result = await query(conn, `SELECT * FROM public.Folders WHERE name = '${name}'`);\n  return result.rows;\n};\n\nmodule.exports.getFileByName = async function getFileByName(conn, name) {\n  const result = await query(conn, `SELECT * FROM public.Files WHERE name = '${name}'`);\n  return result.rows;\n};\n\nmodule.exports.getCerts = async function getCerts(conn, name) {\n  const result = await query(conn, `SELECT cert FROM public.Certs WHERE username = '${name}'`);\n  return result.rows;\n};\n\nmodule.exports.insertUser = async function insertUser(conn, name, pass, email, folder) {\n  await query(conn, `INSERT INTO public.Users (username, password, email, folder) VALUES ('${name}', '${pass}', '${email}', '${folder}') `);\n  return true;\n};\n\nmodule.exports.insertFolder = async function insertFolder(conn, name, hash, parentHash) {\n  await query(conn, `INSERT INTO public.Folders (name, hash, parentHash, folders, files) VALUES ('${name}', '${hash}', '${parentHash}', '[]', '[]' ) `);\n  return true;\n};\n\nmodule.exports.insertFile = async function insertFile(conn, name, hash, parentHash, type) {\n  await query(conn, `INSERT INTO public.Files (name, hash, parentHash, type) VALUES ('${name}', '${hash}', '${parentHash}' , '${type}') `);\n  return true;\n};\n\nmodule.exports.insertCertData = async function insertCertData(conn, name, cert) {\n  await query(conn, `INSERT INTO public.Certs (username, cert) VALUES ('${name}', '${cert}')`);\n  return true;\n};\n\nmodule.exports.updateUser = async function updateUser(conn, name, col, value) {\n  await query(conn, `UPDATE public.Users SET ${col} = '${value}' WHERE username = '${name}' `);\n  return true;\n};\n\nmodule.exports.updateFolder = async function updateFolder(conn, hash, col, value) {\n  await query(conn, `UPDATE public.Folders SET ${col} = '${value}' WHERE hash = '${hash}' `);\n  return true;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f5ba43daf2c4ec36c0acc5233c354d35172003af","contentHash":"1cdb7e3a0bf80e0b20155cdf0e2f481f87470670ab362e3eca1fe181f06201ad"},"/app/src/database/query.js":{"path":"/app/src/database/query.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":25},"end":{"line":7,"column":99}},"3":{"start":{"line":9,"column":0},"end":{"line":39,"column":4}},"4":{"start":{"line":10,"column":13},"end":{"line":34,"column":5}},"5":{"start":{"line":11,"column":4},"end":{"line":33,"column":16}},"6":{"start":{"line":12,"column":6},"end":{"line":32,"column":7}},"7":{"start":{"line":13,"column":8},"end":{"line":31,"column":9}},"8":{"start":{"line":15,"column":12},"end":{"line":26,"column":16}},"9":{"start":{"line":16,"column":28},"end":{"line":23,"column":15}},"10":{"start":{"line":17,"column":16},"end":{"line":20,"column":17}},"11":{"start":{"line":18,"column":18},"end":{"line":18,"column":32}},"12":{"start":{"line":19,"column":18},"end":{"line":19,"column":25}},"13":{"start":{"line":22,"column":16},"end":{"line":22,"column":32}},"14":{"start":{"line":25,"column":14},"end":{"line":25,"column":45}},"15":{"start":{"line":30,"column":12},"end":{"line":30,"column":35}},"16":{"start":{"line":36,"column":2},"end":{"line":38,"column":4}},"17":{"start":{"line":37,"column":4},"end":{"line":37,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":30},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":42},"end":{"line":39,"column":1}},"line":9},"1":{"name":"_callee","decl":{"start":{"line":10,"column":100},"end":{"line":10,"column":107}},"loc":{"start":{"line":10,"column":125},"end":{"line":34,"column":3}},"line":10},"2":{"name":"_callee$","decl":{"start":{"line":11,"column":49},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":68},"end":{"line":33,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":57},"end":{"line":15,"column":58}},"loc":{"start":{"line":15,"column":84},"end":{"line":26,"column":13}},"line":15},"4":{"name":"handler","decl":{"start":{"line":16,"column":37},"end":{"line":16,"column":44}},"loc":{"start":{"line":16,"column":60},"end":{"line":23,"column":15}},"line":16},"5":{"name":"(anonymous_5)","decl":{"start":{"line":36,"column":9},"end":{"line":36,"column":10}},"loc":{"start":{"line":36,"column":33},"end":{"line":38,"column":3}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":8},"end":{"line":31,"column":9}},"type":"switch","locations":[{"start":{"line":14,"column":10},"end":{"line":26,"column":16}},{"start":{"line":28,"column":10},"end":{"line":28,"column":17}},{"start":{"line":29,"column":10},"end":{"line":30,"column":35}}],"line":13},"1":{"loc":{"start":{"line":17,"column":16},"end":{"line":20,"column":17}},"type":"if","locations":[{"start":{"line":17,"column":16},"end":{"line":20,"column":17}},{"start":{"line":17,"column":16},"end":{"line":20,"column":17}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":84,"6":168,"7":168,"8":84,"9":84,"10":84,"11":0,"12":0,"13":84,"14":84,"15":84,"16":1,"17":84},"f":{"0":1,"1":84,"2":168,"3":84,"4":84,"5":84},"b":{"0":[84,0,84],"1":[0,84]},"inputSourceMap":{"version":3,"sources":["query.js"],"names":["module","exports","conn","q","params","Promise","resolve","reject","handler","error","result","query"],"mappings":";;;;;;;;AAAAA,MAAM,CAACC,OAAP;AAAA,2FAAiB,iBAAMC,IAAN,EAAYC,CAAZ,EAAeC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA,6CAA0B,IAAIC,OAAJ,CACzC,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACnB,kBAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,MAAR,EAAmB;AACjC,oBAAID,KAAJ,EAAW;AACTF,kBAAAA,MAAM,CAACE,KAAD,CAAN;AACA;AACD;;AACDH,gBAAAA,OAAO,CAACI,MAAD,CAAP;AACD,eAND;;AAOAR,cAAAA,IAAI,CAACS,KAAL,CAAWR,CAAX,EAAcC,MAAd,EAAsBI,OAAtB;AACD,aAVwC,CAA1B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA","sourceRoot":"/app/src/database/","sourcesContent":["module.exports = async(conn, q, params) => new Promise(\n  (resolve, reject) => {\n    const handler = (error, result) => {\n      if (error) {\n        reject(error);\n        return;\n      }\n      resolve(result);\n    };\n    conn.query(q, params, handler);\n  },\n);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"550501982c04966b30f5f706937ab38ed3c01e96","contentHash":"a0d9ef4c16bd19482e47ad70da049cdbe7cfcbf9b241be7d6f2dc5cd1d7daa86"},"/app/src/adapter/redis.js":{"path":"/app/src/adapter/redis.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":18},"end":{"line":15,"column":1}},"5":{"start":{"line":17,"column":18},"end":{"line":17,"column":84}},"6":{"start":{"line":19,"column":0},"end":{"line":19,"column":34}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["redis.js"],"names":["redisConfig","host","process","env","REDIS_HOST","port","REDIS_PORT","redisClient","redis","createClient"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG;AAClBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,UADA;AAElBC,EAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFA,CAApB;;AAKA,IAAMC,WAAW,GAAGC,kBAAMC,YAAN,CAAmBT,WAAW,CAACK,IAA/B,EAAqCL,WAAW,CAACC,IAAjD,CAApB","sourceRoot":"/app/src/adapter/","sourcesContent":["import redis from 'redis';\n\nconst redisConfig = {\n  host: process.env.REDIS_HOST,\n  port: process.env.REDIS_PORT,\n};\n\nconst redisClient = redis.createClient(redisConfig.port, redisConfig.host);\nexport { redisClient };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b9a0a1b69f8bf8247dc9f1d1fc2d1847bc1849da","contentHash":"6fc9ad8cbc9e12d10477062b2ada7052a6c7308b0fb20a7bf4a0f22d18a52d9a"},"/app/src/service/FileSystemService.js":{"path":"/app/src/service/FileSystemService.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":111}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":11},"end":{"line":14,"column":52}},"6":{"start":{"line":16,"column":12},"end":{"line":16,"column":27}},"7":{"start":{"line":18,"column":12},"end":{"line":18,"column":62}},"8":{"start":{"line":20,"column":16},"end":{"line":20,"column":71}},"9":{"start":{"line":22,"column":15},"end":{"line":22,"column":69}},"10":{"start":{"line":24,"column":13},"end":{"line":24,"column":40}},"11":{"start":{"line":26,"column":13},"end":{"line":26,"column":65}},"12":{"start":{"line":28,"column":19},"end":{"line":28,"column":44}},"13":{"start":{"line":30,"column":15},"end":{"line":30,"column":84}},"14":{"start":{"line":31,"column":11},"end":{"line":31,"column":57}},"15":{"start":{"line":32,"column":19},"end":{"line":32,"column":43}},"16":{"start":{"line":33,"column":18},"end":{"line":33,"column":60}},"17":{"start":{"line":43,"column":32},"end":{"line":198,"column":3}},"18":{"start":{"line":44,"column":13},"end":{"line":193,"column":5}},"19":{"start":{"line":46,"column":4},"end":{"line":192,"column":16}},"20":{"start":{"line":47,"column":6},"end":{"line":191,"column":7}},"21":{"start":{"line":48,"column":8},"end":{"line":190,"column":9}},"22":{"start":{"line":50,"column":12},"end":{"line":53,"column":13}},"23":{"start":{"line":51,"column":14},"end":{"line":51,"column":32}},"24":{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},"25":{"start":{"line":55,"column":12},"end":{"line":60,"column":15}},"26":{"start":{"line":63,"column":12},"end":{"line":63,"column":30}},"27":{"start":{"line":64,"column":12},"end":{"line":64,"column":60}},"28":{"start":{"line":67,"column":12},"end":{"line":67,"column":37}},"29":{"start":{"line":68,"column":12},"end":{"line":68,"column":30}},"30":{"start":{"line":69,"column":12},"end":{"line":69,"column":35}},"31":{"start":{"line":72,"column":12},"end":{"line":72,"column":39}},"32":{"start":{"line":74,"column":12},"end":{"line":77,"column":13}},"33":{"start":{"line":75,"column":14},"end":{"line":75,"column":33}},"34":{"start":{"line":76,"column":14},"end":{"line":76,"column":20}},"35":{"start":{"line":79,"column":12},"end":{"line":84,"column":15}},"36":{"start":{"line":87,"column":12},"end":{"line":87,"column":77}},"37":{"start":{"line":89,"column":12},"end":{"line":92,"column":13}},"38":{"start":{"line":90,"column":14},"end":{"line":90,"column":33}},"39":{"start":{"line":91,"column":14},"end":{"line":91,"column":20}},"40":{"start":{"line":94,"column":12},"end":{"line":99,"column":15}},"41":{"start":{"line":102,"column":12},"end":{"line":105,"column":13}},"42":{"start":{"line":103,"column":14},"end":{"line":103,"column":33}},"43":{"start":{"line":104,"column":14},"end":{"line":104,"column":20}},"44":{"start":{"line":107,"column":12},"end":{"line":112,"column":15}},"45":{"start":{"line":115,"column":12},"end":{"line":115,"column":31}},"46":{"start":{"line":116,"column":12},"end":{"line":116,"column":71}},"47":{"start":{"line":119,"column":12},"end":{"line":119,"column":39}},"48":{"start":{"line":121,"column":12},"end":{"line":124,"column":13}},"49":{"start":{"line":122,"column":14},"end":{"line":122,"column":33}},"50":{"start":{"line":123,"column":14},"end":{"line":123,"column":20}},"51":{"start":{"line":126,"column":12},"end":{"line":131,"column":15}},"52":{"start":{"line":134,"column":12},"end":{"line":134,"column":64}},"53":{"start":{"line":135,"column":12},"end":{"line":135,"column":72}},"54":{"start":{"line":138,"column":12},"end":{"line":141,"column":13}},"55":{"start":{"line":139,"column":14},"end":{"line":139,"column":33}},"56":{"start":{"line":140,"column":14},"end":{"line":140,"column":20}},"57":{"start":{"line":143,"column":12},"end":{"line":143,"column":37}},"58":{"start":{"line":145,"column":12},"end":{"line":148,"column":13}},"59":{"start":{"line":146,"column":14},"end":{"line":146,"column":33}},"60":{"start":{"line":147,"column":14},"end":{"line":147,"column":20}},"61":{"start":{"line":150,"column":12},"end":{"line":155,"column":15}},"62":{"start":{"line":158,"column":12},"end":{"line":158,"column":31}},"63":{"start":{"line":159,"column":12},"end":{"line":159,"column":18}},"64":{"start":{"line":162,"column":12},"end":{"line":165,"column":14}},"65":{"start":{"line":166,"column":12},"end":{"line":166,"column":40}},"66":{"start":{"line":167,"column":12},"end":{"line":167,"column":31}},"67":{"start":{"line":168,"column":12},"end":{"line":168,"column":92}},"68":{"start":{"line":171,"column":12},"end":{"line":171,"column":31}},"69":{"start":{"line":172,"column":12},"end":{"line":172,"column":118}},"70":{"start":{"line":175,"column":12},"end":{"line":175,"column":31}},"71":{"start":{"line":176,"column":12},"end":{"line":176,"column":71}},"72":{"start":{"line":179,"column":12},"end":{"line":179,"column":44}},"73":{"start":{"line":180,"column":12},"end":{"line":185,"column":15}},"74":{"start":{"line":189,"column":12},"end":{"line":189,"column":35}},"75":{"start":{"line":195,"column":2},"end":{"line":197,"column":4}},"76":{"start":{"line":196,"column":4},"end":{"line":196,"column":39}},"77":{"start":{"line":209,"column":0},"end":{"line":209,"column":36}},"78":{"start":{"line":211,"column":32},"end":{"line":299,"column":3}},"79":{"start":{"line":212,"column":14},"end":{"line":294,"column":5}},"80":{"start":{"line":214,"column":4},"end":{"line":293,"column":17}},"81":{"start":{"line":215,"column":6},"end":{"line":292,"column":7}},"82":{"start":{"line":216,"column":8},"end":{"line":291,"column":9}},"83":{"start":{"line":218,"column":12},"end":{"line":221,"column":13}},"84":{"start":{"line":219,"column":14},"end":{"line":219,"column":33}},"85":{"start":{"line":220,"column":14},"end":{"line":220,"column":20}},"86":{"start":{"line":223,"column":12},"end":{"line":228,"column":15}},"87":{"start":{"line":231,"column":12},"end":{"line":231,"column":31}},"88":{"start":{"line":232,"column":12},"end":{"line":232,"column":60}},"89":{"start":{"line":235,"column":12},"end":{"line":235,"column":38}},"90":{"start":{"line":236,"column":12},"end":{"line":236,"column":31}},"91":{"start":{"line":237,"column":12},"end":{"line":237,"column":35}},"92":{"start":{"line":240,"column":12},"end":{"line":240,"column":40}},"93":{"start":{"line":242,"column":12},"end":{"line":245,"column":13}},"94":{"start":{"line":243,"column":14},"end":{"line":243,"column":34}},"95":{"start":{"line":244,"column":14},"end":{"line":244,"column":20}},"96":{"start":{"line":247,"column":12},"end":{"line":252,"column":15}},"97":{"start":{"line":255,"column":12},"end":{"line":255,"column":32}},"98":{"start":{"line":256,"column":12},"end":{"line":256,"column":56}},"99":{"start":{"line":259,"column":12},"end":{"line":259,"column":43}},"100":{"start":{"line":260,"column":12},"end":{"line":260,"column":32}},"101":{"start":{"line":261,"column":12},"end":{"line":261,"column":50}},"102":{"start":{"line":264,"column":12},"end":{"line":264,"column":34}},"103":{"start":{"line":266,"column":12},"end":{"line":269,"column":13}},"104":{"start":{"line":267,"column":14},"end":{"line":267,"column":34}},"105":{"start":{"line":268,"column":14},"end":{"line":268,"column":20}},"106":{"start":{"line":271,"column":12},"end":{"line":276,"column":15}},"107":{"start":{"line":279,"column":12},"end":{"line":286,"column":15}},"108":{"start":{"line":290,"column":12},"end":{"line":290,"column":36}},"109":{"start":{"line":296,"column":2},"end":{"line":298,"column":4}},"110":{"start":{"line":297,"column":4},"end":{"line":297,"column":40}},"111":{"start":{"line":309,"column":0},"end":{"line":309,"column":36}},"112":{"start":{"line":311,"column":29},"end":{"line":392,"column":3}},"113":{"start":{"line":312,"column":14},"end":{"line":387,"column":5}},"114":{"start":{"line":314,"column":4},"end":{"line":386,"column":17}},"115":{"start":{"line":315,"column":6},"end":{"line":385,"column":7}},"116":{"start":{"line":316,"column":8},"end":{"line":384,"column":9}},"117":{"start":{"line":318,"column":12},"end":{"line":321,"column":13}},"118":{"start":{"line":319,"column":14},"end":{"line":319,"column":33}},"119":{"start":{"line":320,"column":14},"end":{"line":320,"column":20}},"120":{"start":{"line":323,"column":12},"end":{"line":328,"column":15}},"121":{"start":{"line":331,"column":12},"end":{"line":331,"column":31}},"122":{"start":{"line":332,"column":12},"end":{"line":332,"column":60}},"123":{"start":{"line":335,"column":12},"end":{"line":335,"column":38}},"124":{"start":{"line":336,"column":12},"end":{"line":336,"column":31}},"125":{"start":{"line":337,"column":12},"end":{"line":337,"column":35}},"126":{"start":{"line":340,"column":12},"end":{"line":340,"column":40}},"127":{"start":{"line":342,"column":12},"end":{"line":345,"column":13}},"128":{"start":{"line":343,"column":14},"end":{"line":343,"column":34}},"129":{"start":{"line":344,"column":14},"end":{"line":344,"column":20}},"130":{"start":{"line":347,"column":12},"end":{"line":352,"column":15}},"131":{"start":{"line":355,"column":12},"end":{"line":355,"column":32}},"132":{"start":{"line":356,"column":12},"end":{"line":356,"column":59}},"133":{"start":{"line":359,"column":12},"end":{"line":359,"column":40}},"134":{"start":{"line":361,"column":12},"end":{"line":364,"column":13}},"135":{"start":{"line":362,"column":14},"end":{"line":362,"column":34}},"136":{"start":{"line":363,"column":14},"end":{"line":363,"column":20}},"137":{"start":{"line":366,"column":12},"end":{"line":371,"column":15}},"138":{"start":{"line":374,"column":12},"end":{"line":379,"column":15}},"139":{"start":{"line":383,"column":12},"end":{"line":383,"column":36}},"140":{"start":{"line":389,"column":2},"end":{"line":391,"column":4}},"141":{"start":{"line":390,"column":4},"end":{"line":390,"column":40}},"142":{"start":{"line":405,"column":0},"end":{"line":405,"column":30}},"143":{"start":{"line":407,"column":30},"end":{"line":538,"column":3}},"144":{"start":{"line":408,"column":14},"end":{"line":533,"column":5}},"145":{"start":{"line":410,"column":4},"end":{"line":532,"column":17}},"146":{"start":{"line":411,"column":6},"end":{"line":531,"column":7}},"147":{"start":{"line":412,"column":8},"end":{"line":530,"column":9}},"148":{"start":{"line":414,"column":12},"end":{"line":417,"column":13}},"149":{"start":{"line":415,"column":14},"end":{"line":415,"column":33}},"150":{"start":{"line":416,"column":14},"end":{"line":416,"column":20}},"151":{"start":{"line":419,"column":12},"end":{"line":424,"column":15}},"152":{"start":{"line":427,"column":12},"end":{"line":427,"column":31}},"153":{"start":{"line":428,"column":12},"end":{"line":428,"column":60}},"154":{"start":{"line":431,"column":12},"end":{"line":431,"column":38}},"155":{"start":{"line":432,"column":12},"end":{"line":432,"column":31}},"156":{"start":{"line":433,"column":12},"end":{"line":433,"column":35}},"157":{"start":{"line":436,"column":12},"end":{"line":436,"column":40}},"158":{"start":{"line":438,"column":12},"end":{"line":441,"column":13}},"159":{"start":{"line":439,"column":14},"end":{"line":439,"column":34}},"160":{"start":{"line":440,"column":14},"end":{"line":440,"column":20}},"161":{"start":{"line":443,"column":12},"end":{"line":448,"column":15}},"162":{"start":{"line":451,"column":12},"end":{"line":454,"column":13}},"163":{"start":{"line":452,"column":14},"end":{"line":452,"column":34}},"164":{"start":{"line":453,"column":14},"end":{"line":453,"column":20}},"165":{"start":{"line":456,"column":12},"end":{"line":461,"column":15}},"166":{"start":{"line":464,"column":12},"end":{"line":467,"column":13}},"167":{"start":{"line":465,"column":14},"end":{"line":465,"column":34}},"168":{"start":{"line":466,"column":14},"end":{"line":466,"column":20}},"169":{"start":{"line":469,"column":12},"end":{"line":474,"column":15}},"170":{"start":{"line":477,"column":12},"end":{"line":477,"column":32}},"171":{"start":{"line":478,"column":12},"end":{"line":478,"column":55}},"172":{"start":{"line":481,"column":12},"end":{"line":481,"column":44}},"173":{"start":{"line":482,"column":12},"end":{"line":482,"column":32}},"174":{"start":{"line":483,"column":12},"end":{"line":483,"column":65}},"175":{"start":{"line":486,"column":12},"end":{"line":486,"column":45}},"176":{"start":{"line":488,"column":12},"end":{"line":491,"column":13}},"177":{"start":{"line":489,"column":14},"end":{"line":489,"column":34}},"178":{"start":{"line":490,"column":14},"end":{"line":490,"column":20}},"179":{"start":{"line":493,"column":12},"end":{"line":498,"column":15}},"180":{"start":{"line":501,"column":12},"end":{"line":501,"column":51}},"181":{"start":{"line":502,"column":12},"end":{"line":505,"column":15}},"182":{"start":{"line":506,"column":12},"end":{"line":506,"column":40}},"183":{"start":{"line":507,"column":12},"end":{"line":507,"column":32}},"184":{"start":{"line":508,"column":12},"end":{"line":508,"column":103}},"185":{"start":{"line":511,"column":12},"end":{"line":511,"column":32}},"186":{"start":{"line":512,"column":12},"end":{"line":512,"column":107}},"187":{"start":{"line":515,"column":12},"end":{"line":515,"column":32}},"188":{"start":{"line":516,"column":12},"end":{"line":516,"column":65}},"189":{"start":{"line":519,"column":12},"end":{"line":519,"column":45}},"190":{"start":{"line":520,"column":12},"end":{"line":525,"column":15}},"191":{"start":{"line":529,"column":12},"end":{"line":529,"column":36}},"192":{"start":{"line":535,"column":2},"end":{"line":537,"column":4}},"193":{"start":{"line":536,"column":4},"end":{"line":536,"column":40}},"194":{"start":{"line":548,"column":0},"end":{"line":548,"column":32}},"195":{"start":{"line":550,"column":26},"end":{"line":650,"column":3}},"196":{"start":{"line":551,"column":14},"end":{"line":645,"column":5}},"197":{"start":{"line":553,"column":4},"end":{"line":644,"column":17}},"198":{"start":{"line":554,"column":6},"end":{"line":643,"column":7}},"199":{"start":{"line":555,"column":8},"end":{"line":642,"column":9}},"200":{"start":{"line":557,"column":12},"end":{"line":560,"column":13}},"201":{"start":{"line":558,"column":14},"end":{"line":558,"column":33}},"202":{"start":{"line":559,"column":14},"end":{"line":559,"column":20}},"203":{"start":{"line":562,"column":12},"end":{"line":567,"column":15}},"204":{"start":{"line":570,"column":12},"end":{"line":570,"column":31}},"205":{"start":{"line":571,"column":12},"end":{"line":571,"column":60}},"206":{"start":{"line":574,"column":12},"end":{"line":574,"column":38}},"207":{"start":{"line":575,"column":12},"end":{"line":575,"column":31}},"208":{"start":{"line":576,"column":12},"end":{"line":576,"column":35}},"209":{"start":{"line":579,"column":12},"end":{"line":579,"column":40}},"210":{"start":{"line":581,"column":12},"end":{"line":584,"column":13}},"211":{"start":{"line":582,"column":14},"end":{"line":582,"column":34}},"212":{"start":{"line":583,"column":14},"end":{"line":583,"column":20}},"213":{"start":{"line":586,"column":12},"end":{"line":591,"column":15}},"214":{"start":{"line":594,"column":12},"end":{"line":597,"column":13}},"215":{"start":{"line":595,"column":14},"end":{"line":595,"column":34}},"216":{"start":{"line":596,"column":14},"end":{"line":596,"column":20}},"217":{"start":{"line":599,"column":12},"end":{"line":604,"column":15}},"218":{"start":{"line":607,"column":12},"end":{"line":607,"column":32}},"219":{"start":{"line":608,"column":12},"end":{"line":608,"column":65}},"220":{"start":{"line":611,"column":12},"end":{"line":611,"column":37}},"221":{"start":{"line":612,"column":12},"end":{"line":612,"column":32}},"222":{"start":{"line":613,"column":12},"end":{"line":613,"column":63}},"223":{"start":{"line":616,"column":12},"end":{"line":616,"column":35}},"224":{"start":{"line":618,"column":12},"end":{"line":621,"column":13}},"225":{"start":{"line":619,"column":14},"end":{"line":619,"column":34}},"226":{"start":{"line":620,"column":14},"end":{"line":620,"column":20}},"227":{"start":{"line":623,"column":12},"end":{"line":628,"column":15}},"228":{"start":{"line":631,"column":12},"end":{"line":637,"column":15}},"229":{"start":{"line":641,"column":12},"end":{"line":641,"column":36}},"230":{"start":{"line":647,"column":2},"end":{"line":649,"column":4}},"231":{"start":{"line":648,"column":4},"end":{"line":648,"column":40}},"232":{"start":{"line":652,"column":0},"end":{"line":652,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":43,"column":32},"end":{"line":43,"column":33}},"loc":{"start":{"line":43,"column":44},"end":{"line":198,"column":1}},"line":43},"1":{"name":"_callee","decl":{"start":{"line":44,"column":100},"end":{"line":44,"column":107}},"loc":{"start":{"line":44,"column":139},"end":{"line":193,"column":3}},"line":44},"2":{"name":"_callee$","decl":{"start":{"line":46,"column":49},"end":{"line":46,"column":57}},"loc":{"start":{"line":46,"column":68},"end":{"line":192,"column":5}},"line":46},"3":{"name":"CreateFolder","decl":{"start":{"line":195,"column":18},"end":{"line":195,"column":30}},"loc":{"start":{"line":195,"column":45},"end":{"line":197,"column":3}},"line":195},"4":{"name":"(anonymous_4)","decl":{"start":{"line":211,"column":32},"end":{"line":211,"column":33}},"loc":{"start":{"line":211,"column":44},"end":{"line":299,"column":1}},"line":211},"5":{"name":"_callee2","decl":{"start":{"line":212,"column":101},"end":{"line":212,"column":109}},"loc":{"start":{"line":212,"column":122},"end":{"line":294,"column":3}},"line":212},"6":{"name":"_callee2$","decl":{"start":{"line":214,"column":49},"end":{"line":214,"column":58}},"loc":{"start":{"line":214,"column":70},"end":{"line":293,"column":5}},"line":214},"7":{"name":"DownloadFile","decl":{"start":{"line":296,"column":18},"end":{"line":296,"column":30}},"loc":{"start":{"line":296,"column":41},"end":{"line":298,"column":3}},"line":296},"8":{"name":"(anonymous_8)","decl":{"start":{"line":311,"column":29},"end":{"line":311,"column":30}},"loc":{"start":{"line":311,"column":41},"end":{"line":392,"column":1}},"line":311},"9":{"name":"_callee3","decl":{"start":{"line":312,"column":101},"end":{"line":312,"column":109}},"loc":{"start":{"line":312,"column":123},"end":{"line":387,"column":3}},"line":312},"10":{"name":"_callee3$","decl":{"start":{"line":314,"column":49},"end":{"line":314,"column":58}},"loc":{"start":{"line":314,"column":70},"end":{"line":386,"column":5}},"line":314},"11":{"name":"GetFolder","decl":{"start":{"line":389,"column":18},"end":{"line":389,"column":27}},"loc":{"start":{"line":389,"column":38},"end":{"line":391,"column":3}},"line":389},"12":{"name":"(anonymous_12)","decl":{"start":{"line":407,"column":30},"end":{"line":407,"column":31}},"loc":{"start":{"line":407,"column":42},"end":{"line":538,"column":1}},"line":407},"13":{"name":"_callee4","decl":{"start":{"line":408,"column":101},"end":{"line":408,"column":109}},"loc":{"start":{"line":408,"column":145},"end":{"line":533,"column":3}},"line":408},"14":{"name":"_callee4$","decl":{"start":{"line":410,"column":49},"end":{"line":410,"column":58}},"loc":{"start":{"line":410,"column":70},"end":{"line":532,"column":5}},"line":410},"15":{"name":"UploadFile","decl":{"start":{"line":535,"column":18},"end":{"line":535,"column":28}},"loc":{"start":{"line":535,"column":51},"end":{"line":537,"column":3}},"line":535},"16":{"name":"(anonymous_16)","decl":{"start":{"line":550,"column":26},"end":{"line":550,"column":27}},"loc":{"start":{"line":550,"column":38},"end":{"line":650,"column":1}},"line":550},"17":{"name":"_callee5","decl":{"start":{"line":551,"column":101},"end":{"line":551,"column":109}},"loc":{"start":{"line":551,"column":123},"end":{"line":645,"column":3}},"line":551},"18":{"name":"_callee5$","decl":{"start":{"line":553,"column":49},"end":{"line":553,"column":58}},"loc":{"start":{"line":553,"column":70},"end":{"line":644,"column":5}},"line":553},"19":{"name":"Search","decl":{"start":{"line":647,"column":18},"end":{"line":647,"column":24}},"loc":{"start":{"line":647,"column":37},"end":{"line":649,"column":3}},"line":647}},"branchMap":{"0":{"loc":{"start":{"line":48,"column":8},"end":{"line":190,"column":9}},"type":"switch","locations":[{"start":{"line":49,"column":10},"end":{"line":60,"column":15}},{"start":{"line":62,"column":10},"end":{"line":64,"column":60}},{"start":{"line":66,"column":10},"end":{"line":69,"column":35}},{"start":{"line":71,"column":10},"end":{"line":84,"column":15}},{"start":{"line":86,"column":10},"end":{"line":99,"column":15}},{"start":{"line":101,"column":10},"end":{"line":112,"column":15}},{"start":{"line":114,"column":10},"end":{"line":116,"column":71}},{"start":{"line":118,"column":10},"end":{"line":131,"column":15}},{"start":{"line":133,"column":10},"end":{"line":135,"column":72}},{"start":{"line":137,"column":10},"end":{"line":155,"column":15}},{"start":{"line":157,"column":10},"end":{"line":159,"column":18}},{"start":{"line":161,"column":10},"end":{"line":168,"column":92}},{"start":{"line":170,"column":10},"end":{"line":172,"column":118}},{"start":{"line":174,"column":10},"end":{"line":176,"column":71}},{"start":{"line":178,"column":10},"end":{"line":185,"column":15}},{"start":{"line":187,"column":10},"end":{"line":187,"column":18}},{"start":{"line":188,"column":10},"end":{"line":189,"column":35}}],"line":48},"1":{"loc":{"start":{"line":50,"column":12},"end":{"line":53,"column":13}},"type":"if","locations":[{"start":{"line":50,"column":12},"end":{"line":53,"column":13}},{"start":{"line":50,"column":12},"end":{"line":53,"column":13}}],"line":50},"2":{"loc":{"start":{"line":74,"column":12},"end":{"line":77,"column":13}},"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":77,"column":13}},{"start":{"line":74,"column":12},"end":{"line":77,"column":13}}],"line":74},"3":{"loc":{"start":{"line":74,"column":18},"end":{"line":74,"column":49}},"type":"binary-expr","locations":[{"start":{"line":74,"column":18},"end":{"line":74,"column":27}},{"start":{"line":74,"column":31},"end":{"line":74,"column":49}}],"line":74},"4":{"loc":{"start":{"line":89,"column":12},"end":{"line":92,"column":13}},"type":"if","locations":[{"start":{"line":89,"column":12},"end":{"line":92,"column":13}},{"start":{"line":89,"column":12},"end":{"line":92,"column":13}}],"line":89},"5":{"loc":{"start":{"line":89,"column":18},"end":{"line":89,"column":88}},"type":"binary-expr","locations":[{"start":{"line":89,"column":18},"end":{"line":89,"column":23}},{"start":{"line":89,"column":27},"end":{"line":89,"column":43}},{"start":{"line":89,"column":47},"end":{"line":89,"column":62}},{"start":{"line":89,"column":66},"end":{"line":89,"column":88}}],"line":89},"6":{"loc":{"start":{"line":102,"column":12},"end":{"line":105,"column":13}},"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":105,"column":13}},{"start":{"line":102,"column":12},"end":{"line":105,"column":13}}],"line":102},"7":{"loc":{"start":{"line":121,"column":12},"end":{"line":124,"column":13}},"type":"if","locations":[{"start":{"line":121,"column":12},"end":{"line":124,"column":13}},{"start":{"line":121,"column":12},"end":{"line":124,"column":13}}],"line":121},"8":{"loc":{"start":{"line":138,"column":12},"end":{"line":141,"column":13}},"type":"if","locations":[{"start":{"line":138,"column":12},"end":{"line":141,"column":13}},{"start":{"line":138,"column":12},"end":{"line":141,"column":13}}],"line":138},"9":{"loc":{"start":{"line":145,"column":12},"end":{"line":148,"column":13}},"type":"if","locations":[{"start":{"line":145,"column":12},"end":{"line":148,"column":13}},{"start":{"line":145,"column":12},"end":{"line":148,"column":13}}],"line":145},"10":{"loc":{"start":{"line":216,"column":8},"end":{"line":291,"column":9}},"type":"switch","locations":[{"start":{"line":217,"column":10},"end":{"line":228,"column":15}},{"start":{"line":230,"column":10},"end":{"line":232,"column":60}},{"start":{"line":234,"column":10},"end":{"line":237,"column":35}},{"start":{"line":239,"column":10},"end":{"line":252,"column":15}},{"start":{"line":254,"column":10},"end":{"line":256,"column":56}},{"start":{"line":258,"column":10},"end":{"line":261,"column":50}},{"start":{"line":263,"column":10},"end":{"line":276,"column":15}},{"start":{"line":278,"column":10},"end":{"line":286,"column":15}},{"start":{"line":288,"column":10},"end":{"line":288,"column":18}},{"start":{"line":289,"column":10},"end":{"line":290,"column":36}}],"line":216},"11":{"loc":{"start":{"line":218,"column":12},"end":{"line":221,"column":13}},"type":"if","locations":[{"start":{"line":218,"column":12},"end":{"line":221,"column":13}},{"start":{"line":218,"column":12},"end":{"line":221,"column":13}}],"line":218},"12":{"loc":{"start":{"line":242,"column":12},"end":{"line":245,"column":13}},"type":"if","locations":[{"start":{"line":242,"column":12},"end":{"line":245,"column":13}},{"start":{"line":242,"column":12},"end":{"line":245,"column":13}}],"line":242},"13":{"loc":{"start":{"line":242,"column":18},"end":{"line":242,"column":49}},"type":"binary-expr","locations":[{"start":{"line":242,"column":18},"end":{"line":242,"column":27}},{"start":{"line":242,"column":31},"end":{"line":242,"column":49}}],"line":242},"14":{"loc":{"start":{"line":266,"column":12},"end":{"line":269,"column":13}},"type":"if","locations":[{"start":{"line":266,"column":12},"end":{"line":269,"column":13}},{"start":{"line":266,"column":12},"end":{"line":269,"column":13}}],"line":266},"15":{"loc":{"start":{"line":316,"column":8},"end":{"line":384,"column":9}},"type":"switch","locations":[{"start":{"line":317,"column":10},"end":{"line":328,"column":15}},{"start":{"line":330,"column":10},"end":{"line":332,"column":60}},{"start":{"line":334,"column":10},"end":{"line":337,"column":35}},{"start":{"line":339,"column":10},"end":{"line":352,"column":15}},{"start":{"line":354,"column":10},"end":{"line":356,"column":59}},{"start":{"line":358,"column":10},"end":{"line":371,"column":15}},{"start":{"line":373,"column":10},"end":{"line":379,"column":15}},{"start":{"line":381,"column":10},"end":{"line":381,"column":18}},{"start":{"line":382,"column":10},"end":{"line":383,"column":36}}],"line":316},"16":{"loc":{"start":{"line":318,"column":12},"end":{"line":321,"column":13}},"type":"if","locations":[{"start":{"line":318,"column":12},"end":{"line":321,"column":13}},{"start":{"line":318,"column":12},"end":{"line":321,"column":13}}],"line":318},"17":{"loc":{"start":{"line":342,"column":12},"end":{"line":345,"column":13}},"type":"if","locations":[{"start":{"line":342,"column":12},"end":{"line":345,"column":13}},{"start":{"line":342,"column":12},"end":{"line":345,"column":13}}],"line":342},"18":{"loc":{"start":{"line":342,"column":18},"end":{"line":342,"column":49}},"type":"binary-expr","locations":[{"start":{"line":342,"column":18},"end":{"line":342,"column":27}},{"start":{"line":342,"column":31},"end":{"line":342,"column":49}}],"line":342},"19":{"loc":{"start":{"line":361,"column":12},"end":{"line":364,"column":13}},"type":"if","locations":[{"start":{"line":361,"column":12},"end":{"line":364,"column":13}},{"start":{"line":361,"column":12},"end":{"line":364,"column":13}}],"line":361},"20":{"loc":{"start":{"line":412,"column":8},"end":{"line":530,"column":9}},"type":"switch","locations":[{"start":{"line":413,"column":10},"end":{"line":424,"column":15}},{"start":{"line":426,"column":10},"end":{"line":428,"column":60}},{"start":{"line":430,"column":10},"end":{"line":433,"column":35}},{"start":{"line":435,"column":10},"end":{"line":448,"column":15}},{"start":{"line":450,"column":10},"end":{"line":461,"column":15}},{"start":{"line":463,"column":10},"end":{"line":474,"column":15}},{"start":{"line":476,"column":10},"end":{"line":478,"column":55}},{"start":{"line":480,"column":10},"end":{"line":483,"column":65}},{"start":{"line":485,"column":10},"end":{"line":498,"column":15}},{"start":{"line":500,"column":10},"end":{"line":508,"column":103}},{"start":{"line":510,"column":10},"end":{"line":512,"column":107}},{"start":{"line":514,"column":10},"end":{"line":516,"column":65}},{"start":{"line":518,"column":10},"end":{"line":525,"column":15}},{"start":{"line":527,"column":10},"end":{"line":527,"column":18}},{"start":{"line":528,"column":10},"end":{"line":529,"column":36}}],"line":412},"21":{"loc":{"start":{"line":414,"column":12},"end":{"line":417,"column":13}},"type":"if","locations":[{"start":{"line":414,"column":12},"end":{"line":417,"column":13}},{"start":{"line":414,"column":12},"end":{"line":417,"column":13}}],"line":414},"22":{"loc":{"start":{"line":438,"column":12},"end":{"line":441,"column":13}},"type":"if","locations":[{"start":{"line":438,"column":12},"end":{"line":441,"column":13}},{"start":{"line":438,"column":12},"end":{"line":441,"column":13}}],"line":438},"23":{"loc":{"start":{"line":438,"column":18},"end":{"line":438,"column":49}},"type":"binary-expr","locations":[{"start":{"line":438,"column":18},"end":{"line":438,"column":27}},{"start":{"line":438,"column":31},"end":{"line":438,"column":49}}],"line":438},"24":{"loc":{"start":{"line":451,"column":12},"end":{"line":454,"column":13}},"type":"if","locations":[{"start":{"line":451,"column":12},"end":{"line":454,"column":13}},{"start":{"line":451,"column":12},"end":{"line":454,"column":13}}],"line":451},"25":{"loc":{"start":{"line":464,"column":12},"end":{"line":467,"column":13}},"type":"if","locations":[{"start":{"line":464,"column":12},"end":{"line":467,"column":13}},{"start":{"line":464,"column":12},"end":{"line":467,"column":13}}],"line":464},"26":{"loc":{"start":{"line":488,"column":12},"end":{"line":491,"column":13}},"type":"if","locations":[{"start":{"line":488,"column":12},"end":{"line":491,"column":13}},{"start":{"line":488,"column":12},"end":{"line":491,"column":13}}],"line":488},"27":{"loc":{"start":{"line":555,"column":8},"end":{"line":642,"column":9}},"type":"switch","locations":[{"start":{"line":556,"column":10},"end":{"line":567,"column":15}},{"start":{"line":569,"column":10},"end":{"line":571,"column":60}},{"start":{"line":573,"column":10},"end":{"line":576,"column":35}},{"start":{"line":578,"column":10},"end":{"line":591,"column":15}},{"start":{"line":593,"column":10},"end":{"line":604,"column":15}},{"start":{"line":606,"column":10},"end":{"line":608,"column":65}},{"start":{"line":610,"column":10},"end":{"line":613,"column":63}},{"start":{"line":615,"column":10},"end":{"line":628,"column":15}},{"start":{"line":630,"column":10},"end":{"line":637,"column":15}},{"start":{"line":639,"column":10},"end":{"line":639,"column":18}},{"start":{"line":640,"column":10},"end":{"line":641,"column":36}}],"line":555},"28":{"loc":{"start":{"line":557,"column":12},"end":{"line":560,"column":13}},"type":"if","locations":[{"start":{"line":557,"column":12},"end":{"line":560,"column":13}},{"start":{"line":557,"column":12},"end":{"line":560,"column":13}}],"line":557},"29":{"loc":{"start":{"line":581,"column":12},"end":{"line":584,"column":13}},"type":"if","locations":[{"start":{"line":581,"column":12},"end":{"line":584,"column":13}},{"start":{"line":581,"column":12},"end":{"line":584,"column":13}}],"line":581},"30":{"loc":{"start":{"line":581,"column":18},"end":{"line":581,"column":49}},"type":"binary-expr","locations":[{"start":{"line":581,"column":18},"end":{"line":581,"column":27}},{"start":{"line":581,"column":31},"end":{"line":581,"column":49}}],"line":581},"31":{"loc":{"start":{"line":594,"column":12},"end":{"line":597,"column":13}},"type":"if","locations":[{"start":{"line":594,"column":12},"end":{"line":597,"column":13}},{"start":{"line":594,"column":12},"end":{"line":597,"column":13}}],"line":594},"32":{"loc":{"start":{"line":618,"column":12},"end":{"line":621,"column":13}},"type":"if","locations":[{"start":{"line":618,"column":12},"end":{"line":621,"column":13}},{"start":{"line":618,"column":12},"end":{"line":621,"column":13}}],"line":618},"33":{"loc":{"start":{"line":618,"column":18},"end":{"line":618,"column":60}},"type":"binary-expr","locations":[{"start":{"line":618,"column":18},"end":{"line":618,"column":36}},{"start":{"line":618,"column":40},"end":{"line":618,"column":60}}],"line":618}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":3,"20":24,"21":42,"22":3,"23":3,"24":3,"25":0,"26":3,"27":3,"28":3,"29":3,"30":3,"31":3,"32":3,"33":3,"34":3,"35":0,"36":3,"37":3,"38":3,"39":3,"40":0,"41":3,"42":3,"43":3,"44":0,"45":3,"46":3,"47":3,"48":3,"49":3,"50":3,"51":0,"52":3,"53":3,"54":3,"55":3,"56":3,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":3,"65":3,"66":3,"67":3,"68":3,"69":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":1,"76":3,"77":1,"78":1,"79":1,"80":1,"81":6,"82":9,"83":1,"84":1,"85":1,"86":0,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":0,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":0,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":5,"116":8,"117":1,"118":1,"119":1,"120":0,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":0,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":0,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":2,"146":18,"147":28,"148":2,"149":2,"150":2,"151":0,"152":2,"153":2,"154":2,"155":2,"156":2,"157":2,"158":2,"159":2,"160":2,"161":0,"162":2,"163":2,"164":2,"165":0,"166":2,"167":2,"168":2,"169":0,"170":2,"171":2,"172":2,"173":2,"174":2,"175":2,"176":2,"177":2,"178":2,"179":0,"180":2,"181":2,"182":2,"183":2,"184":2,"185":2,"186":2,"187":2,"188":2,"189":2,"190":2,"191":2,"192":1,"193":2,"194":1,"195":1,"196":1,"197":1,"198":6,"199":10,"200":1,"201":1,"202":1,"203":0,"204":1,"205":1,"206":1,"207":1,"208":1,"209":1,"210":1,"211":1,"212":1,"213":0,"214":1,"215":1,"216":1,"217":0,"218":1,"219":1,"220":1,"221":1,"222":1,"223":1,"224":1,"225":1,"226":1,"227":0,"228":1,"229":1,"230":1,"231":1,"232":1},"f":{"0":1,"1":3,"2":24,"3":3,"4":1,"5":1,"6":6,"7":1,"8":1,"9":1,"10":5,"11":1,"12":1,"13":2,"14":18,"15":2,"16":1,"17":1,"18":6,"19":1},"b":{"0":[3,3,3,3,3,3,3,3,3,3,0,3,3,3,3,0,3],"1":[3,0],"2":[3,0],"3":[3,3],"4":[3,0],"5":[3,3,3,3],"6":[3,0],"7":[3,0],"8":[3,0],"9":[0,0],"10":[1,1,1,1,1,1,1,1,0,1],"11":[1,0],"12":[1,0],"13":[1,1],"14":[1,0],"15":[1,1,1,1,1,1,1,0,1],"16":[1,0],"17":[1,0],"18":[1,1],"19":[1,0],"20":[2,2,2,2,2,2,2,2,2,2,2,2,2,0,2],"21":[2,0],"22":[2,0],"23":[2,2],"24":[2,0],"25":[2,0],"26":[2,0],"27":[1,1,1,1,1,1,1,1,1,0,1],"28":[1,0],"29":[1,0],"30":[1,1],"31":[1,0],"32":[1,0],"33":[1,1]},"inputSourceMap":{"version":3,"sources":["FileSystemService.js"],"names":["redisGet","redisClient","get","bind","conn","configDB","IPFS_API_URL","process","env","fileStorage","FileStorage","CreateFolder","name","parentFolderHash","token","code","payload","message","validator","getUserFromToken","username","blackToken","folderHash","concat","length","trim","DB","getFolder","folderList","childrenFolders","JSON","parse","folders","item","child","hash","push","insertFolder","updateFolder","stringify","folderListAfter","folder","DownloadFile","cid","getFile","fileFromDB","getFileByHash","file","type","GetFolder","UploadFile","parentName","contents","upload","buffer","toString","parentFolder","files","console","log","insertFile","mimetype","Search","getFolderByName","getFileByName"],"mappings":"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","sourceRoot":"/app/src/service/","sourcesContent":["import sha256 from 'sha256';\nimport { promisify } from 'util';\n\nimport validator from '../helpers/auth';\nimport configDB from '../database/configDB';\nimport connection from '../database/connect';\nimport { redisClient } from '../adapter/redis';\n\n\nimport DB from '../database/utils';\nimport { FileStorage } from '../FileStorage';\n\n\nconst redisGet = promisify(redisClient.get).bind(redisClient);\nconst conn = connection(configDB);\n\nconst { IPFS_API_URL } = process.env;\nconst fileStorage = new FileStorage(IPFS_API_URL);\n\n/**\n * Create folder\n * Creating folder by user\n *\n * name - folder name\n * parentFolderHash - name of parent folder if exist\n * no response value expected for this operation\n * */\nexport const CreateFolder = async (name, parentFolderHash, token) => {\n  if (!token) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const username = await validator.getUserFromToken(token);\n  const blackToken = await redisGet(token);\n  if (!username || blackToken != null) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const folderHash = sha256(name.concat(parentFolderHash));\n\n  if (!name || name.length > 20 || name.length < 1 || name.trim().length < 1) {\n    return { code: 422, payload: { message: 'Name is not correct' } };\n  }\n  if (!parentFolderHash) {\n    return { code: 422, payload: { message: 'Cant create folder without parent folder' } };\n  }\n\n  const folderList = await DB.getFolder(conn, parentFolderHash);\n  if (folderList.length === 0) {\n    return { code: 404, payload: { message: 'Parent folder not found.' } };\n  }\n\n  const childrenFolders = JSON.parse(folderList[0].folders);\n  for (const item in childrenFolders) {\n    if (childrenFolders[item].name === name) {\n      return { code: 409, payload: { message: 'Folder with the same already exist' } };\n    }\n  }\n  const child = {\n    name, hash: folderHash,\n  };\n  childrenFolders.push(child);\n  await DB.insertFolder(conn, name, folderHash, parentFolderHash);\n  await DB.updateFolder(conn, parentFolderHash, 'folders', JSON.stringify(childrenFolders));\n\n  const folderListAfter = await DB.getFolder(conn, parentFolderHash);\n  return { code: 201, payload: { folder: folderListAfter[0] } };\n};\n\n/**\n * Retrieves file's contents as a string\n *\n * @param {string|CID} cid - IPFS identifier of the file\n * @param {string} token\n *\n * @returns {string} file contents\n */\nexport const DownloadFile = async (cid, token) => {\n  if (!token) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const username = await validator.getUserFromToken(token);\n  const blackToken = await redisGet(token);\n  if (!username || blackToken != null) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n\n  const fileFromDB = (await DB.getFile(conn, cid))[0];\n  const file = await fileStorage.getFileByHash(cid);\n  if (file === null) {\n    return { code: 404, payload: { message: 'File not found.' } };\n  }\n  return { code: 200, payload: { name: fileFromDB.name, type: fileFromDB.type, file } };\n};\n\n\n/**\n * Get folder\n * Geting folder means that user will receive the contents of the folder (files and folders)\n *\n * body Body_1\n * no response value expected for this operation\n * */\nexport const GetFolder = async (hash, token) => {\n  if (!token) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const username = await validator.getUserFromToken(token);\n  const blackToken = await redisGet(token);\n  if (!username || blackToken != null) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const folderList = await DB.getFolder(conn, hash);\n\n  if (folderList.length === 0) {\n    return { code: 404, payload: { message: 'folder not found.' } };\n  }\n  return { code: 200, payload: { folder: folderList[0] } };\n};\n\n\n/**\n * Saves file to IPFS and adds returned `cid` to parent folder's `files` list\n *\n * @param {string} name\n * @param {string} parentName\n * @param {string|Buffer} contents file data\n * @param {} token\n *\n * @returns {object} parent updated parent folder\n * */\nexport const UploadFile = async (name, parentName, contents, token) => {\n  if (!token) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const username = await validator.getUserFromToken(token);\n  const blackToken = await redisGet(token);\n  if (!username || blackToken != null) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n\n  if (!name) {\n    return { code: 422, payload: { message: 'Name is not specified' } };\n  }\n  if (!parentName) {\n    return { code: 422, payload: { message: 'Cant create folder without parent folder' } };\n  }\n\n  const cid = (await fileStorage.upload(contents.buffer)).toString();\n  /* Get list of files in parent folder */\n  const parentFolder = (await DB.getFolder(conn, parentName))[0];\n\n  if (parentFolder === null) {\n    return { code: 404, payload: { message: 'Parent folder not found.' } };\n  }\n  const files = JSON.parse(parentFolder.files);\n\n  files.push({ name, hash: cid });\n  console.log('Files', files);\n  await DB.insertFile(conn, name, cid, parentFolder.hash, contents.mimetype);\n  await DB.updateFolder(conn, parentFolder.hash, 'files', JSON.stringify(files));\n  const folderListAfter = await DB.getFolder(conn, parentName);\n  return { code: 200, payload: { folder: folderListAfter[0] } };\n};\n\n/**\n * Search\n * Search folders and files means that user will receive folder or file if exist\n *\n * name String The folder or file name\n * no response value expected for this operation\n * */\nexport const Search = async (name, token) => {\n  if (!token) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  const username = await validator.getUserFromToken(token);\n  const blackToken = await redisGet(token);\n  if (!username || blackToken != null) {\n    return { code: 203, payload: { message: 'Not Authorized' } };\n  }\n  if (!name) {\n    return { code: 422, payload: { message: 'File name is not specified' } };\n  }\n  const folders = await DB.getFolderByName(conn, name);\n  const files = await DB.getFileByName(conn, name);\n  if (files.length === 0 && folders.length === 0) {\n    return { code: 404, payload: { message: 'Files or folders does not exist' } };\n  }\n  return { code: 200, payload: { folders, files } };\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b4a682081c79436fdf216333341c38063589a075","contentHash":"1d4e66229fb1df9ea72976009639bb0194bfc4dfa95063e7bdb177372809abb7"},"/app/src/FileStorage/index.js":{"path":"/app/src/FileStorage/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":43}},"2":{"start":{"line":9,"column":0},"end":{"line":17,"column":3}},"3":{"start":{"line":10,"column":2},"end":{"line":10,"column":56}},"4":{"start":{"line":10,"column":49},"end":{"line":10,"column":56}},"5":{"start":{"line":11,"column":2},"end":{"line":16,"column":5}},"6":{"start":{"line":14,"column":6},"end":{"line":14,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":34},"end":{"line":9,"column":35}},"loc":{"start":{"line":9,"column":49},"end":{"line":17,"column":1}},"line":9},"1":{"name":"get","decl":{"start":{"line":13,"column":18},"end":{"line":13,"column":21}},"loc":{"start":{"line":13,"column":24},"end":{"line":15,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":56}},"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":56}},{"start":{"line":10,"column":2},"end":{"line":10,"column":56}}],"line":10},"1":{"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":47}},"type":"binary-expr","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":23}},{"start":{"line":10,"column":27},"end":{"line":10,"column":47}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1},"f":{"0":1,"1":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourceRoot":"/app/src/FileStorage/","sourcesContent":["export * from './FileStorage';\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"53cf4384eb22e3a94fcec666d57b19e4a1177187","contentHash":"074fb3807f67b4ec37cb332afbbc76b469a22025cfc6946b62736ecb197d5ead"},"/app/src/FileStorage/FileStorage.js":{"path":"/app/src/FileStorage/FileStorage.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":23},"end":{"line":14,"column":95}},"6":{"start":{"line":16,"column":20},"end":{"line":16,"column":89}},"7":{"start":{"line":18,"column":22},"end":{"line":18,"column":93}},"8":{"start":{"line":20,"column":22},"end":{"line":20,"column":73}},"9":{"start":{"line":22,"column":10},"end":{"line":22,"column":47}},"10":{"start":{"line":25,"column":31},"end":{"line":316,"column":3}},"11":{"start":{"line":30,"column":4},"end":{"line":30,"column":56}},"12":{"start":{"line":31,"column":4},"end":{"line":31,"column":53}},"13":{"start":{"line":42,"column":2},"end":{"line":314,"column":6}},"14":{"start":{"line":45,"column":20},"end":{"line":130,"column":9}},"15":{"start":{"line":48,"column":8},"end":{"line":129,"column":60}},"16":{"start":{"line":49,"column":10},"end":{"line":128,"column":11}},"17":{"start":{"line":50,"column":12},"end":{"line":127,"column":13}},"18":{"start":{"line":52,"column":16},"end":{"line":52,"column":49}},"19":{"start":{"line":53,"column":16},"end":{"line":53,"column":42}},"20":{"start":{"line":54,"column":16},"end":{"line":54,"column":34}},"21":{"start":{"line":55,"column":16},"end":{"line":55,"column":85}},"22":{"start":{"line":58,"column":16},"end":{"line":58,"column":34}},"23":{"start":{"line":59,"column":16},"end":{"line":59,"column":40}},"24":{"start":{"line":62,"column":16},"end":{"line":62,"column":38}},"25":{"start":{"line":63,"column":16},"end":{"line":63,"column":55}},"26":{"start":{"line":64,"column":16},"end":{"line":64,"column":35}},"27":{"start":{"line":65,"column":16},"end":{"line":65,"column":35}},"28":{"start":{"line":68,"column":16},"end":{"line":68,"column":39}},"29":{"start":{"line":70,"column":16},"end":{"line":73,"column":17}},"30":{"start":{"line":71,"column":18},"end":{"line":71,"column":37}},"31":{"start":{"line":72,"column":18},"end":{"line":72,"column":24}},"32":{"start":{"line":75,"column":16},"end":{"line":75,"column":31}},"33":{"start":{"line":76,"column":16},"end":{"line":76,"column":32}},"34":{"start":{"line":79,"column":16},"end":{"line":79,"column":49}},"35":{"start":{"line":80,"column":16},"end":{"line":80,"column":34}},"36":{"start":{"line":81,"column":16},"end":{"line":81,"column":22}},"37":{"start":{"line":84,"column":16},"end":{"line":84,"column":35}},"38":{"start":{"line":85,"column":16},"end":{"line":85,"column":22}},"39":{"start":{"line":88,"column":16},"end":{"line":88,"column":35}},"40":{"start":{"line":89,"column":16},"end":{"line":89,"column":51}},"41":{"start":{"line":90,"column":16},"end":{"line":90,"column":41}},"42":{"start":{"line":91,"column":16},"end":{"line":91,"column":45}},"43":{"start":{"line":94,"column":16},"end":{"line":94,"column":35}},"44":{"start":{"line":95,"column":16},"end":{"line":95,"column":35}},"45":{"start":{"line":97,"column":16},"end":{"line":100,"column":17}},"46":{"start":{"line":98,"column":18},"end":{"line":98,"column":37}},"47":{"start":{"line":99,"column":18},"end":{"line":99,"column":24}},"48":{"start":{"line":102,"column":16},"end":{"line":102,"column":35}},"49":{"start":{"line":103,"column":16},"end":{"line":103,"column":45}},"50":{"start":{"line":106,"column":16},"end":{"line":106,"column":35}},"51":{"start":{"line":108,"column":16},"end":{"line":111,"column":17}},"52":{"start":{"line":109,"column":18},"end":{"line":109,"column":37}},"53":{"start":{"line":110,"column":18},"end":{"line":110,"column":24}},"54":{"start":{"line":113,"column":16},"end":{"line":113,"column":37}},"55":{"start":{"line":116,"column":16},"end":{"line":116,"column":43}},"56":{"start":{"line":119,"column":16},"end":{"line":119,"column":43}},"57":{"start":{"line":122,"column":16},"end":{"line":122,"column":54}},"58":{"start":{"line":126,"column":16},"end":{"line":126,"column":39}},"59":{"start":{"line":133,"column":8},"end":{"line":133,"column":46}},"60":{"start":{"line":136,"column":6},"end":{"line":136,"column":20}},"61":{"start":{"line":149,"column":27},"end":{"line":306,"column":9}},"62":{"start":{"line":152,"column":8},"end":{"line":305,"column":94}},"63":{"start":{"line":153,"column":10},"end":{"line":304,"column":11}},"64":{"start":{"line":154,"column":12},"end":{"line":303,"column":13}},"65":{"start":{"line":156,"column":16},"end":{"line":156,"column":27}},"66":{"start":{"line":157,"column":16},"end":{"line":157,"column":50}},"67":{"start":{"line":158,"column":16},"end":{"line":158,"column":43}},"68":{"start":{"line":159,"column":16},"end":{"line":159,"column":35}},"69":{"start":{"line":160,"column":16},"end":{"line":160,"column":98}},"70":{"start":{"line":163,"column":16},"end":{"line":163,"column":35}},"71":{"start":{"line":164,"column":16},"end":{"line":164,"column":41}},"72":{"start":{"line":167,"column":16},"end":{"line":167,"column":40}},"73":{"start":{"line":168,"column":16},"end":{"line":168,"column":57}},"74":{"start":{"line":169,"column":16},"end":{"line":169,"column":36}},"75":{"start":{"line":170,"column":16},"end":{"line":170,"column":36}},"76":{"start":{"line":173,"column":16},"end":{"line":173,"column":41}},"77":{"start":{"line":175,"column":16},"end":{"line":178,"column":17}},"78":{"start":{"line":176,"column":18},"end":{"line":176,"column":38}},"79":{"start":{"line":177,"column":18},"end":{"line":177,"column":24}},"80":{"start":{"line":180,"column":16},"end":{"line":180,"column":31}},"81":{"start":{"line":181,"column":16},"end":{"line":181,"column":48}},"82":{"start":{"line":182,"column":16},"end":{"line":182,"column":50}},"83":{"start":{"line":183,"column":16},"end":{"line":183,"column":43}},"84":{"start":{"line":184,"column":16},"end":{"line":184,"column":36}},"85":{"start":{"line":185,"column":16},"end":{"line":185,"column":75}},"86":{"start":{"line":188,"column":16},"end":{"line":188,"column":36}},"87":{"start":{"line":189,"column":16},"end":{"line":189,"column":41}},"88":{"start":{"line":192,"column":16},"end":{"line":192,"column":40}},"89":{"start":{"line":193,"column":16},"end":{"line":193,"column":57}},"90":{"start":{"line":194,"column":16},"end":{"line":194,"column":36}},"91":{"start":{"line":195,"column":16},"end":{"line":195,"column":36}},"92":{"start":{"line":198,"column":16},"end":{"line":198,"column":41}},"93":{"start":{"line":200,"column":16},"end":{"line":203,"column":17}},"94":{"start":{"line":201,"column":18},"end":{"line":201,"column":38}},"95":{"start":{"line":202,"column":18},"end":{"line":202,"column":24}},"96":{"start":{"line":205,"column":16},"end":{"line":205,"column":32}},"97":{"start":{"line":206,"column":16},"end":{"line":206,"column":39}},"98":{"start":{"line":209,"column":16},"end":{"line":209,"column":50}},"99":{"start":{"line":210,"column":16},"end":{"line":210,"column":36}},"100":{"start":{"line":211,"column":16},"end":{"line":211,"column":22}},"101":{"start":{"line":214,"column":16},"end":{"line":214,"column":36}},"102":{"start":{"line":215,"column":16},"end":{"line":215,"column":22}},"103":{"start":{"line":218,"column":16},"end":{"line":218,"column":36}},"104":{"start":{"line":219,"column":16},"end":{"line":219,"column":54}},"105":{"start":{"line":220,"column":16},"end":{"line":220,"column":42}},"106":{"start":{"line":221,"column":16},"end":{"line":221,"column":47}},"107":{"start":{"line":224,"column":16},"end":{"line":224,"column":36}},"108":{"start":{"line":225,"column":16},"end":{"line":225,"column":36}},"109":{"start":{"line":227,"column":16},"end":{"line":230,"column":17}},"110":{"start":{"line":228,"column":18},"end":{"line":228,"column":38}},"111":{"start":{"line":229,"column":18},"end":{"line":229,"column":24}},"112":{"start":{"line":232,"column":16},"end":{"line":232,"column":36}},"113":{"start":{"line":233,"column":16},"end":{"line":233,"column":46}},"114":{"start":{"line":236,"column":16},"end":{"line":236,"column":36}},"115":{"start":{"line":238,"column":16},"end":{"line":241,"column":17}},"116":{"start":{"line":239,"column":18},"end":{"line":239,"column":38}},"117":{"start":{"line":240,"column":18},"end":{"line":240,"column":24}},"118":{"start":{"line":243,"column":16},"end":{"line":243,"column":38}},"119":{"start":{"line":246,"column":16},"end":{"line":246,"column":44}},"120":{"start":{"line":249,"column":16},"end":{"line":249,"column":44}},"121":{"start":{"line":252,"column":16},"end":{"line":252,"column":45}},"122":{"start":{"line":255,"column":16},"end":{"line":255,"column":50}},"123":{"start":{"line":256,"column":16},"end":{"line":256,"column":35}},"124":{"start":{"line":257,"column":16},"end":{"line":257,"column":22}},"125":{"start":{"line":260,"column":16},"end":{"line":260,"column":36}},"126":{"start":{"line":261,"column":16},"end":{"line":261,"column":22}},"127":{"start":{"line":264,"column":16},"end":{"line":264,"column":36}},"128":{"start":{"line":265,"column":16},"end":{"line":265,"column":53}},"129":{"start":{"line":266,"column":16},"end":{"line":266,"column":42}},"130":{"start":{"line":267,"column":16},"end":{"line":267,"column":47}},"131":{"start":{"line":270,"column":16},"end":{"line":270,"column":36}},"132":{"start":{"line":271,"column":16},"end":{"line":271,"column":36}},"133":{"start":{"line":273,"column":16},"end":{"line":276,"column":17}},"134":{"start":{"line":274,"column":18},"end":{"line":274,"column":38}},"135":{"start":{"line":275,"column":18},"end":{"line":275,"column":24}},"136":{"start":{"line":278,"column":16},"end":{"line":278,"column":36}},"137":{"start":{"line":279,"column":16},"end":{"line":279,"column":46}},"138":{"start":{"line":282,"column":16},"end":{"line":282,"column":36}},"139":{"start":{"line":284,"column":16},"end":{"line":287,"column":17}},"140":{"start":{"line":285,"column":18},"end":{"line":285,"column":38}},"141":{"start":{"line":286,"column":18},"end":{"line":286,"column":24}},"142":{"start":{"line":289,"column":16},"end":{"line":289,"column":38}},"143":{"start":{"line":292,"column":16},"end":{"line":292,"column":44}},"144":{"start":{"line":295,"column":16},"end":{"line":295,"column":44}},"145":{"start":{"line":298,"column":16},"end":{"line":298,"column":57}},"146":{"start":{"line":302,"column":16},"end":{"line":302,"column":40}},"147":{"start":{"line":309,"column":8},"end":{"line":309,"column":53}},"148":{"start":{"line":312,"column":6},"end":{"line":312,"column":27}},"149":{"start":{"line":315,"column":2},"end":{"line":315,"column":21}},"150":{"start":{"line":318,"column":0},"end":{"line":318,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":25,"column":31},"end":{"line":25,"column":32}},"loc":{"start":{"line":25,"column":43},"end":{"line":316,"column":1}},"line":25},"1":{"name":"FileStorage","decl":{"start":{"line":29,"column":11},"end":{"line":29,"column":22}},"loc":{"start":{"line":29,"column":28},"end":{"line":32,"column":3}},"line":29},"2":{"name":"(anonymous_2)","decl":{"start":{"line":44,"column":11},"end":{"line":44,"column":12}},"loc":{"start":{"line":44,"column":23},"end":{"line":137,"column":5}},"line":44},"3":{"name":"_callee","decl":{"start":{"line":45,"column":107},"end":{"line":45,"column":114}},"loc":{"start":{"line":45,"column":125},"end":{"line":130,"column":7}},"line":45},"4":{"name":"_callee$","decl":{"start":{"line":48,"column":53},"end":{"line":48,"column":61}},"loc":{"start":{"line":48,"column":72},"end":{"line":129,"column":9}},"line":48},"5":{"name":"upload","decl":{"start":{"line":132,"column":15},"end":{"line":132,"column":21}},"loc":{"start":{"line":132,"column":26},"end":{"line":134,"column":7}},"line":132},"6":{"name":"(anonymous_6)","decl":{"start":{"line":148,"column":11},"end":{"line":148,"column":12}},"loc":{"start":{"line":148,"column":23},"end":{"line":313,"column":5}},"line":148},"7":{"name":"_callee2","decl":{"start":{"line":149,"column":114},"end":{"line":149,"column":122}},"loc":{"start":{"line":149,"column":128},"end":{"line":306,"column":7}},"line":149},"8":{"name":"_callee2$","decl":{"start":{"line":152,"column":53},"end":{"line":152,"column":62}},"loc":{"start":{"line":152,"column":74},"end":{"line":305,"column":9}},"line":152},"9":{"name":"getFileByHash","decl":{"start":{"line":308,"column":15},"end":{"line":308,"column":28}},"loc":{"start":{"line":308,"column":34},"end":{"line":310,"column":7}},"line":308}},"branchMap":{"0":{"loc":{"start":{"line":50,"column":12},"end":{"line":127,"column":13}},"type":"switch","locations":[{"start":{"line":51,"column":14},"end":{"line":55,"column":85}},{"start":{"line":57,"column":14},"end":{"line":59,"column":40}},{"start":{"line":61,"column":14},"end":{"line":65,"column":35}},{"start":{"line":67,"column":14},"end":{"line":76,"column":32}},{"start":{"line":78,"column":14},"end":{"line":81,"column":22}},{"start":{"line":83,"column":14},"end":{"line":85,"column":22}},{"start":{"line":87,"column":14},"end":{"line":91,"column":45}},{"start":{"line":93,"column":14},"end":{"line":103,"column":45}},{"start":{"line":105,"column":14},"end":{"line":113,"column":37}},{"start":{"line":115,"column":14},"end":{"line":116,"column":43}},{"start":{"line":118,"column":14},"end":{"line":119,"column":43}},{"start":{"line":121,"column":14},"end":{"line":122,"column":54}},{"start":{"line":124,"column":14},"end":{"line":124,"column":22}},{"start":{"line":125,"column":14},"end":{"line":126,"column":39}}],"line":50},"1":{"loc":{"start":{"line":70,"column":16},"end":{"line":73,"column":17}},"type":"if","locations":[{"start":{"line":70,"column":16},"end":{"line":73,"column":17}},{"start":{"line":70,"column":16},"end":{"line":73,"column":17}}],"line":70},"2":{"loc":{"start":{"line":97,"column":16},"end":{"line":100,"column":17}},"type":"if","locations":[{"start":{"line":97,"column":16},"end":{"line":100,"column":17}},{"start":{"line":97,"column":16},"end":{"line":100,"column":17}}],"line":97},"3":{"loc":{"start":{"line":97,"column":22},"end":{"line":97,"column":79}},"type":"binary-expr","locations":[{"start":{"line":97,"column":22},"end":{"line":97,"column":48}},{"start":{"line":97,"column":52},"end":{"line":97,"column":79}}],"line":97},"4":{"loc":{"start":{"line":108,"column":16},"end":{"line":111,"column":17}},"type":"if","locations":[{"start":{"line":108,"column":16},"end":{"line":111,"column":17}},{"start":{"line":108,"column":16},"end":{"line":111,"column":17}}],"line":108},"5":{"loc":{"start":{"line":154,"column":12},"end":{"line":303,"column":13}},"type":"switch","locations":[{"start":{"line":155,"column":14},"end":{"line":160,"column":98}},{"start":{"line":162,"column":14},"end":{"line":164,"column":41}},{"start":{"line":166,"column":14},"end":{"line":170,"column":36}},{"start":{"line":172,"column":14},"end":{"line":185,"column":75}},{"start":{"line":187,"column":14},"end":{"line":189,"column":41}},{"start":{"line":191,"column":14},"end":{"line":195,"column":36}},{"start":{"line":197,"column":14},"end":{"line":206,"column":39}},{"start":{"line":208,"column":14},"end":{"line":211,"column":22}},{"start":{"line":213,"column":14},"end":{"line":215,"column":22}},{"start":{"line":217,"column":14},"end":{"line":221,"column":47}},{"start":{"line":223,"column":14},"end":{"line":233,"column":46}},{"start":{"line":235,"column":14},"end":{"line":243,"column":38}},{"start":{"line":245,"column":14},"end":{"line":246,"column":44}},{"start":{"line":248,"column":14},"end":{"line":249,"column":44}},{"start":{"line":251,"column":14},"end":{"line":252,"column":45}},{"start":{"line":254,"column":14},"end":{"line":257,"column":22}},{"start":{"line":259,"column":14},"end":{"line":261,"column":22}},{"start":{"line":263,"column":14},"end":{"line":267,"column":47}},{"start":{"line":269,"column":14},"end":{"line":279,"column":46}},{"start":{"line":281,"column":14},"end":{"line":289,"column":38}},{"start":{"line":291,"column":14},"end":{"line":292,"column":44}},{"start":{"line":294,"column":14},"end":{"line":295,"column":44}},{"start":{"line":297,"column":14},"end":{"line":298,"column":57}},{"start":{"line":300,"column":14},"end":{"line":300,"column":22}},{"start":{"line":301,"column":14},"end":{"line":302,"column":40}}],"line":154},"6":{"loc":{"start":{"line":175,"column":16},"end":{"line":178,"column":17}},"type":"if","locations":[{"start":{"line":175,"column":16},"end":{"line":178,"column":17}},{"start":{"line":175,"column":16},"end":{"line":178,"column":17}}],"line":175},"7":{"loc":{"start":{"line":200,"column":16},"end":{"line":203,"column":17}},"type":"if","locations":[{"start":{"line":200,"column":16},"end":{"line":203,"column":17}},{"start":{"line":200,"column":16},"end":{"line":203,"column":17}}],"line":200},"8":{"loc":{"start":{"line":227,"column":16},"end":{"line":230,"column":17}},"type":"if","locations":[{"start":{"line":227,"column":16},"end":{"line":230,"column":17}},{"start":{"line":227,"column":16},"end":{"line":230,"column":17}}],"line":227},"9":{"loc":{"start":{"line":227,"column":22},"end":{"line":227,"column":81}},"type":"binary-expr","locations":[{"start":{"line":227,"column":22},"end":{"line":227,"column":49}},{"start":{"line":227,"column":53},"end":{"line":227,"column":81}}],"line":227},"10":{"loc":{"start":{"line":238,"column":16},"end":{"line":241,"column":17}},"type":"if","locations":[{"start":{"line":238,"column":16},"end":{"line":241,"column":17}},{"start":{"line":238,"column":16},"end":{"line":241,"column":17}}],"line":238},"11":{"loc":{"start":{"line":273,"column":16},"end":{"line":276,"column":17}},"type":"if","locations":[{"start":{"line":273,"column":16},"end":{"line":276,"column":17}},{"start":{"line":273,"column":16},"end":{"line":276,"column":17}}],"line":273},"12":{"loc":{"start":{"line":273,"column":22},"end":{"line":273,"column":81}},"type":"binary-expr","locations":[{"start":{"line":273,"column":22},"end":{"line":273,"column":49}},{"start":{"line":273,"column":53},"end":{"line":273,"column":81}}],"line":273},"13":{"loc":{"start":{"line":284,"column":16},"end":{"line":287,"column":17}},"type":"if","locations":[{"start":{"line":284,"column":16},"end":{"line":287,"column":17}},{"start":{"line":284,"column":16},"end":{"line":287,"column":17}}],"line":284}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":2,"16":16,"17":26,"18":2,"19":2,"20":2,"21":2,"22":4,"23":4,"24":4,"25":4,"26":4,"27":4,"28":4,"29":4,"30":2,"31":2,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":2,"39":0,"40":0,"41":0,"42":0,"43":2,"44":2,"45":2,"46":2,"47":2,"48":0,"49":0,"50":2,"51":2,"52":2,"53":2,"54":0,"55":2,"56":2,"57":2,"58":2,"59":2,"60":1,"61":1,"62":1,"63":12,"64":21,"65":1,"66":1,"67":1,"68":1,"69":1,"70":2,"71":2,"72":2,"73":2,"74":2,"75":2,"76":2,"77":2,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":1,"103":0,"104":0,"105":0,"106":0,"107":1,"108":1,"109":1,"110":1,"111":1,"112":0,"113":0,"114":1,"115":1,"116":1,"117":1,"118":0,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":0,"128":0,"129":0,"130":0,"131":1,"132":1,"133":1,"134":1,"135":1,"136":0,"137":0,"138":1,"139":1,"140":1,"141":1,"142":0,"143":1,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":16,"5":2,"6":1,"7":1,"8":12,"9":1},"b":{"0":[2,4,4,4,2,2,0,2,2,2,2,2,0,2],"1":[2,2],"2":[2,0],"3":[2,0],"4":[2,0],"5":[1,2,2,2,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1],"6":[1,1],"7":[1,0],"8":[1,0],"9":[1,0],"10":[1,0],"11":[1,0],"12":[1,0],"13":[1,0]},"inputSourceMap":{"version":3,"sources":["FileStorage.js"],"names":["FileStorage","uri","node","contents","add","chunk","cid","total","get","file","BufferList","content","append","toString"],"mappings":";;;;;;;;;;;;;;;;;;;AACA;;AACA;;AAFA;IAIMA,W;AACJ;;;AAGA,uBAAYC,GAAZ,EAAiB;AAAA;AACf,SAAKC,IAAL,GAAY,gCAAWD,GAAX,CAAZ;AACD;AAED;;;;;;;;;;;;mHAOaE,Q;;;;;;;;;;4DAEe,KAAKD,IAAL,CAAUE,GAAV,CAAcD,QAAd,C;;;;;;;;;;;;;;;;;;;;AAATE,gBAAAA,K;AACZC,gBAAAA,G,GAAQD,K,CAARC,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iDAEEA,G;;;;;;;;;;;;;;;;AAGT;;;;;;;;;;;2HAOoBA,G;;;;;;;AACdC,gBAAAA,K,GAAQ,E;;;;6DACa,KAAKL,IAAL,CAAUM,GAAV,iBAAuBF,GAAvB,E;;;;;;;;;;;;;;;;;;;;AAARG,gBAAAA,I;AACTN,gBAAAA,Q,GAAW,IAAIO,cAAJ,E;;;;6DACSD,IAAI,CAACE,O;;;;;;;;;;;;;;;;;;;;AAAdN,gBAAAA,K;AACfF,gBAAAA,QAAQ,CAACS,MAAT,CAAgBP,KAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEFE,gBAAAA,KAAK,IAAIJ,QAAQ,CAACU,QAAT,EAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDAEKN,K","sourceRoot":"/app/src/FileStorage/","sourcesContent":["/* eslint-disable no-restricted-syntax */\nimport ipfsClient from 'ipfs-http-client';\nimport BufferList from 'bl';\n\nclass FileStorage {\n  /**\n   * @param uri {string|object} - IPFS API server\n   */\n  constructor(uri) {\n    this.node = ipfsClient(uri);\n  }\n\n  /**\n   * Uploads contents of a single file\n   *\n   * @param {String|Buffer} contents\n   *\n   * @returns {CID}\n   */\n  async upload(contents) {\n    let cid;\n    for await (const chunk of this.node.add(contents)) {\n      ({ cid } = chunk);\n    }\n    return cid;\n  }\n\n  /**\n   * Retrieves contents of a single file\n   *\n   * @param {String|CID} cid\n   *\n   * @returns {String}\n   */\n  async getFileByHash(cid) {\n    let total = '';\n    for await (const file of this.node.get(`/ipfs/${cid}`)) {\n      const contents = new BufferList();\n      for await (const chunk of file.content) {\n        contents.append(chunk);\n      }\n      total += contents.toString();\n    }\n    return total;\n  }\n}\n\nexport { FileStorage };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9261613d67eb7bed76b53d4c2d9369d4e02b428e","contentHash":"c8136553fe0e252ae92126fc226c127e931125956615c20d85b0c9455e86a429"}}